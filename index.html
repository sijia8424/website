<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>秒寻-AI驱动的工业元器件选型助手</title>

<!-- 首先在页面头部引入Chart.js库 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


  <style>
    :root {
      --primary: #2563eb;
      --primary-light: #3b82f6;
      --secondary: #0f172a;
      --accent: #f59e0b;
      --light: #f8fafc;
      --dark: #334155;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --border-radius: 8px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f1f5f9;
      color: var(--dark);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 3rem;
      padding: 1rem;
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    h2 {
      color: var(--secondary);
      font-size: 1.75rem;
      margin: 1.5rem 0;
    }

    h3 {
      color: var(--primary);
      font-size: 1.25rem;
      margin: 1rem 0;
    }

    .subtitle {
      color: var(--dark);
      font-size: 1.25rem;
      max-width: 800px;
      margin: 0 auto;
    }

    /* 角色导航 */
    .role-tabs {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .role-tab {
      padding: 1rem 2rem;
      background-color: white;
      border: 2px solid #e2e8f0;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 600;
      font-size: 1.1rem;
      transition: var(--transition);
      min-width: 180px;
      text-align: center;
    }

    .role-tab.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .role-tab:hover:not(.active) {
      border-color: var(--primary-light);
      color: var(--primary);
    }

    /* 角色内容 */
    .role-content {
      display: none;
    }

    .role-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    /* 旅程阶段 */
    .journey-map {
      display: flex;
      justify-content: space-between;
      margin: 2rem 0;
      position: relative;
      padding: 2rem 0;
    }

    .journey-map::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 4px;
      background-color: #e2e8f0;
      z-index: 1;
    }

    .stage {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
      cursor: pointer;
      transition: var(--transition);
      width: 100px;
    }

    .stage-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: white;
      border: 3px solid #e2e8f0;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--dark);
      transition: var(--transition);
    }

    .stage-name {
      font-weight: 600;
      text-align: center;
      font-size: 1rem;
    }

    .stage.active .stage-icon {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
      transform: scale(1.1);
    }

    .stage:hover .stage-icon {
      border-color: var(--primary-light);
      transform: scale(1.05);
    }

    /* 阶段详情 */
    .stage-details {
      display: none;
      background-color: white;
      border-radius: var(--border-radius);
      padding: 2rem;
      margin: 2rem 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      animation: fadeIn 0.5s ease;
    }

    .stage-details.active {
      display: block;
    }

    /* 详情内容样式 */
    .detail-section {
      margin-bottom: 1.5rem;
    }

    .detail-title {
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
    }

    .detail-title::before {
      content: "•";
      color: var(--primary);
      font-size: 1.5rem;
      margin-right: 0.5rem;
    }

    .detail-content {
      padding-left: 1.5rem;
    }

    .detail-item {
      margin-bottom: 0.5rem;
    }

    /* 功能高亮 */
    .feature-highlight {
      background-color: #eef2ff;
      border-left: 4px solid var(--primary);
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
    }

    .feature-name {
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    /* 交互分析 */
    .interaction-analysis {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 2rem;
      margin: 3rem 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .interaction-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #e2e8f0;
    }

    .interaction-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .interaction-icon {
      background-color: #eef2ff;
      color: var(--primary);
      padding: 0.75rem;
      border-radius: 50%;
      margin-right: 1rem;
      flex-shrink: 0;
    }

    /* 动画 */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* 按钮 */
    .btn {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-block;
    }

    .btn:hover {
      background-color: var(--primary-light);
      transform: translateY(-2px);
    }

    .btn-outline {
      background-color: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-outline:hover {
      background-color: var(--primary);
      color: white;
    }

    /* 标签 */
    .tag {
      display: inline-block;
      padding: 0.3rem 0.6rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 0.5rem;
    }

    .tag-feature {
      background-color: #eef2ff;
      color: var(--primary);
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .role-tabs {
        flex-direction: column;
        align-items: center;
      }

      .journey-map {
        overflow-x: auto;
        justify-content: flex-start;
        padding-bottom: 1rem;
      }

      .stage {
        min-width: 100px;
        margin-right: 1rem;
      }

      .interaction-item {
        flex-direction: column;
      }

      .interaction-icon {
        margin-bottom: 1rem;
      }
    }


.stage[data-stage="search"] .stage-icon,
.stage[data-stage="filter"] .stage-icon,
.stage[data-stage="compare"] .stage-icon,
.stage[data-stage="sales-marketing"] .stage-icon,
.stage[data-stage="sales-consult"] .stage-icon {
  border: 3px solid #e11d48 !important; /* 红色高亮边框 */
  box-shadow: 0 0 8px rgba(225, 29, 72, 0.5); /* 添加红色阴影效果增强显示 */
}

















/* 约束条件查询交互样式 */
.left-side {
  flex: 1; 
  background-color: white; 
  border-radius: 8px; 
  padding: 1.5rem; 
  box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
  display: flex; 
  flex-direction: column;
}

.right-side {
  flex: 2.5; 
  background-color: white; 
  border-radius: 8px; 
  box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
  display: flex; 
  flex-direction: column; 
  height: 100%;
}

.message-container {
  flex-grow: 1; 
  overflow-y: auto; 
  margin-bottom: 1rem;
}

.results-header {
  padding: 0.8rem 1.2rem; 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  border-bottom: 1px solid #e2e8f0;
}

.table-header {
  display: grid; 
  grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; 
  background-color: #f8fafc; 
  padding: 0.8rem 1.2rem; 
  font-weight: 500; 
  color: #000000; 
  border-bottom: 1px solid #e2e8f0; 
  font-size: 12px;
}

.table-body {
  flex-grow: 1; 
  overflow-y: auto; 
  font-size: 12px; 
  max-height: calc(100% - 80px);
}

.table-row {
  display: grid; 
  grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; 
  padding: 1rem 1.2rem; 
  border-bottom: 1px solid #e2e8f0; 
  align-items: center;
  transition: background-color 0.2s ease, border-left 0.2s ease;
  cursor: pointer;
}

.table-row:nth-child(even) {
  background-color: #f9fafb;
}

.table-row:hover {
  background-color: #f0f9ff;
}

.table-row.selected {
  border-left: 3px solid #2563eb;
  background-color: #f0f7ff;
}

.chat-input-container {
  display: flex;
  margin-top: auto;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.chat-input {
  flex-grow: 1;
  padding: 0.8rem 1rem;
  border: none;
  outline: none;
  font-size: 14px;
}

.send-button {
  background-color: #2563eb;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.send-button:hover {
  background-color: #1d4ed8;
}

.user-message {
  display: flex;
  margin-bottom: 1rem;
  justify-content: flex-end;
}

.user-message-content {
  background-color: #eef2ff;
  padding: 1rem;
  border-radius: 8px;
  max-width: 80%;
}

.ai-message {
  display: flex;
  margin-bottom: 1rem;
}

.ai-message-content {
  background-color: #f8fafc;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0 0.8rem;
  flex-shrink: 0;
}

.user-avatar {
  background-color: #e2e8f0;
  color: #334155;
}

.ai-avatar {
  background-color: #2563eb;
  color: white;
}

.typing-indicator {
  display: flex;
  margin-top: 8px;
}

.typing-dot {
  height: 8px;
  width: 8px;
  border-radius: 50%;
  background-color: #2563eb;
  margin-right: 4px;
  animation: pulse 1s infinite;
}

.typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
  animation-delay: 0.4s;
  margin-right: 0;
}

.control-buttons {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.control-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease, opacity 0.2s ease;
}

.compare-button {
  background-color: #f1f5f9;
  color: #334155;
}

.compare-button:hover {
  background-color: #e2e8f0;
}

.chat-button {
  background-color: #2563eb;
  color: white;
}

.chat-button:hover {
  background-color: #1d4ed8;
}

.result-count {
  font-size: 14px;
  color: #64748b;
}

.tag {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  margin-right: 0.5rem;
  margin-bottom: 0.5rem;
}

.tag-blue {
  background-color: #e0f2fe;
  color: #0369a1;
}

.tag-green {
  background-color: #dcfce7;
  color: #15803d;
}

.score-high {
  color: #15803d;
  font-weight: 500;
}

.score-medium {
  color: #b45309;
  font-weight: 500;
}

.score-low {
  color: #dc2626;
  font-weight: 500;
}

@keyframes pulse {
  0% { transform: scale(0.8); opacity: 0.5; }
  50% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0.8); opacity: 0.5; }
}

.sortable-header {
  cursor: pointer;
  user-select: none;
}

.sortable-header:hover {
  background-color: #e2e8f0;
}

.sort-indicator {
  margin-left: 4px;
  font-size: 10px;
}













<!-- 雷达图样式增强 -->
<style>
#radarChartContainer {
  position: relative;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

#radarChartContainer:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

#radarChart {
  animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 图表图例样式优化 */
.chart-legend {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1rem;
  margin-top: 1rem;
}

.legend-item {
  display: flex;
  align-items: center;
  font-size: 0.875rem;
}

.legend-color {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 4px;
}

/* 添加图表标题样式 */
.chart-title {
  text-align: center;
  font-weight: 600;
  margin-bottom: 1rem;
  color: #334155;
}

/* 图表交互提示 */
.chart-info {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: rgba(255, 255, 255, 0.8);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  color: #64748b;
}














/* 回形针按钮悬停效果 */
button[onclick="document.getElementById('fileUpload').click();"]:hover {
  color: #2563eb;
}



















<!-- 功能演示选项卡 -->

  .feature-content-panel {
    display: none;
  }
  
  .feature-content-panel.active {
    display: block;
  }
  
  .feature-tab {
    transition: all 0.3s ease;
  }
  
  .feature-tab:hover {
    opacity: 0.9;
  }























/* 主布局容器 */
.chat-container {
  display: flex;
  gap: 20px;
  width: 100%;
  height: 100%;
  overflow: hidden; /* 防止溢出引起的布局问题 */
}

/* 左侧面板 - 强制固定宽度 */
.left-side {
  width: 320px !important; /* 使用!important确保优先级 */
  min-width: 320px !important;
  max-width: 320px !important;
  flex: none !important; /* 防止flex布局影响宽度 */
  overflow-x: hidden;
  background-color: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* 右侧面板 - 占据剩余空间 */
.right-side {
  flex: 1 !important;
  min-width: 0; /* 允许flex-grow正常工作 */
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* 客户列表容器 */
.customer-list {
  width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
}

/* 客户项 */
.customer-item {
  width: 100%;
  box-sizing: border-box; /* 确保padding和border计入宽度 */
}
























<!-- 修改问题跟进页面的HTML结构和样式 -->
<style>
/* 确保问题跟进页面在切换时正确显示/隐藏 */
#follow-up-content {
  display: none; /* 默认隐藏 */
}

/* 销售工作台头部在问题跟进页面时应隐藏 */
#follow-up-mode .sales-workstation-header {
  display: none;
}
</style>























<!-- 客户档案模态框的CSS样式 -->
<style>
  .profile-panel {
    display: none;
  }
  
  .profile-tab.active {
    color: #2563eb;
    border-bottom: 2px solid #2563eb;
  }
  
  /* 增加一些响应式处理 */
  @media (max-width: 768px) {
    #customerProfileModal > div {
      width: 95%;
      margin: 1rem auto;
    }
    
    .profile-tab {
      padding: 0.5rem 0.75rem;
      font-size: 0.85rem;
    }
  }
  
  /* 美化滚动条 */
  #customerProfileModal::-webkit-scrollbar {
    width: 8px;
  }
  
  #customerProfileModal::-webkit-scrollbar-track {
    background: #f1f1f1;
  }
  
  #customerProfileModal::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  
  #customerProfileModal::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
  
  /* 表格悬停效果 */
  table tbody tr:hover {
    background-color: #f8fafc;
  }
  
  /* 按钮悬停效果 */
  button:hover {
    opacity: 0.9;
  }
</style>

























</style>
</head>

<body>
  <div class="container">
    <header>

      <nav style="margin-bottom: 2rem; background-color: var(--primary); padding: 1rem; border-radius: var(--border-radius); display: flex; justify-content: space-evenly; align-items: center;">
        <a href="#customer-journey" style="color: white; text-decoration: none; padding: 0.5rem 1rem; font-weight: 600; border-radius: var(--border-radius); transition: background-color 0.3s ease;">用户旅程</a>
        <a href="#core-features" style="color: white; text-decoration: none; padding: 0.5rem 1rem; font-weight: 600; border-radius: var(--border-radius); transition: background-color 0.3s ease;">功能演示</a>
        <a href="#business-model" style="color: white; text-decoration: none; padding: 0.5rem 1rem; font-weight: 600; border-radius: var(--border-radius); transition: background-color 0.3s ease;">商业模式</a>
        <a href="#project-plan" style="color: white; text-decoration: none; padding: 0.5rem 1rem; font-weight: 600; border-radius: var(--border-radius); transition: background-color 0.3s ease;">项目计划</a>
      </nav>

      <style>
        nav a:hover {
          background-color: rgba(255, 255, 255, 0.15);
        }
      </style>

      <h1 style="margin-bottom: 1.5rem;">秒寻-AI驱动的工业元器件选型助手</h1>
      <p style="font-size: 32px;">精准匹配，专业无疆</p>

      <!-- 用户价值展示 -->
      <div style="display: flex; justify-content: center; gap: 3rem; margin-top: 1.5rem;">
        <div style="display: flex; align-items: center; gap: 0.75rem;">
          <div style="width: 32px; height: 32px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.1rem;">⚡</div>
          <span style="font-weight: 600; font-size: 1.1rem;">性能</span>
        </div>
        <div style="display: flex; align-items: center; gap: 0.75rem;">
          <div style="width: 32px; height: 32px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.1rem;">⏱️</div>
          <span style="font-weight: 600; font-size: 1.1rem;">交期</span>
        </div>
        <div style="display: flex; align-items: center; gap: 0.75rem;">
          <div style="width: 32px; height: 32px; background-color: var(--primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.1rem;">💰</div>
          <span style="font-weight: 600; font-size: 1.1rem;">成本</span>
        </div>
      </div>

      <div style="height: 30px;"></div>

      <p class="subtitle" style="margin-bottom: 1.5rem; line-height: 1.8; font-size: 16px;">面向工业自动化领域的智能体AI平台, 通过工程师级智能体，提升“搜-筛-比-荐-询”的效率</p>

    </header>




<div id="customer-journey" style="background-color: white; border-radius: var(--border-radius); padding: 2rem; margin: 3rem 0; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);">


    <div class="role-tabs">
      <div class="role-tab active" data-role="engineer">设计工程师</div>
      <div class="role-tab" data-role="procurement">采购工程师</div>
      <div class="role-tab" data-role="sales">销售工程师</div>
      <div class="role-tab" data-role="interaction">跨角色协作</div>
    </div>

    

<!-- 设计工程师用户旅程 -->



<div class="role-content active" id="engineer">

  <h2>设计工程师用户旅程</h2>
  <p>秒寻如何帮助设计人员快速高效地选择合适的元器件</p>

  <div class="journey-map">
    <div class="stage active" data-stage="need">
      <div class="stage-icon">需</div>
      <div class="stage-name">需求阶段</div>
    </div>
    <div class="stage" data-stage="search">
      <div class="stage-icon">搜</div>
      <div class="stage-name">搜索阶段</div>
    </div>
    <div class="stage" data-stage="filter">
      <div class="stage-icon">筛</div>
      <div class="stage-name">筛选阶段</div>
    </div>
    <div class="stage" data-stage="compare">
      <div class="stage-icon">比</div>
      <div class="stage-name">比较阶段</div>
    </div>
    <div class="stage" data-stage="inquire">
      <div class="stage-icon">询</div>
      <div class="stage-name">咨询阶段</div>
    </div>
    <div class="stage" data-stage="decide">
      <div class="stage-icon">定</div>
      <div class="stage-name">决策阶段</div>
    </div>
  </div>

  <!-- 需求阶段详情 -->
  <div class="stage-details active" id="need-details">
    <h3>需求阶段 - 明确技术要求</h3>

    <div class="detail-section">
      <div class="detail-title">需求触发点</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>技术驱动：</strong>为新设计选择合适元器件，新建BOM
        </div>
        <div class="detail-item">
          <strong>优化驱动：</strong>为满足成本和交期，寻找替代品
        </div>
        <div class="detail-item">
          <strong>供应驱动：</strong>为原有型号停产，供应不稳定，寻找替代品
        </div>
        <div class="detail-item">
          <strong>质量驱动：</strong>为性能不可靠，质量不稳定，需寻找替代品
        </div>
        <div class="detail-item">
          <strong>客制驱动：</strong>为法规标准变化，客户定制需求，需寻找替代品
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">用户信息输入</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>需求收集：</strong>与上游客户讨论技术要求和约束条件
        </div>
        <div class="detail-item">
          <strong>经验参考：</strong>查阅历史设计方案和成功案例
        </div>
        <div class="detail-item">
          <strong>规格整理：</strong>整理关键参数和性能指标清单
        </div>
      </div>
    </div>
  </div>
   

  <!-- 搜索阶段详情 -->
  <div class="stage-details" id="search-details">
    <h3>搜索阶段 - 快速定位符合需求的元器件</h3>

    <div class="feature-highlight">
      <div class="feature-name">精确型号查询-查数据，查平替</div>
      <div class="detail-item">
        <strong>需求场景：</strong>已知型号查询详细参数
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>当设计工程师已知一个特定型号时，需要系统返回该产品的完整技术参数。
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>将这些参数与客户提供的技术规格要求进行比对，确保所选元器件能够满足客户的技术要求。
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>快速验证产品与需求的匹配度，提高技术决策的准确性。
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>已知型号，在搜索框中直接输入完整型号（如"LM317"或"STM32F103C8T6"）
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>展示完整技术参数
      </div>
      <div class="detail-item">
        <strong>附加功能：</strong>一键获取技术规格手册、使用手册、2D图纸、3D模型资源
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">智能语音搜索</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>需求场景：</strong>现场勘查或无法使用键盘时快速查询
        </div>
        <div class="detail-item">
          <strong>用户行为：</strong>使用语音输入型号或关键参数
        </div>
        <div class="detail-item">
          <strong>系统响应：</strong>实时转写并智能补全专业术语，执行搜索
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">图像识别搜索</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>需求场景：</strong>根据实物或包装上的标签进行识别
        </div>
        <div class="detail-item">
          <strong>用户行为：</strong>拍摄或上传元器件图片
        </div>
        <div class="detail-item">
          <strong>系统响应：</strong>AI识别型号和关键信息，提供搜索结果
        </div>
      </div>
    </div>
  </div>

  <!-- 筛选阶段详情 -->
  <div class="stage-details" id="filter-details">
    <h3>筛选阶段 - 精确缩小选择范围</h3>

    <div class="feature-highlight">
      <div class="feature-name">约束条件查询-查推荐</div>
      <div class="detail-item">
        <strong>需求场景：</strong>基于技术要求推荐型号
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>当设计工程师收到客户的技术要求但没有相关经验可以立即判断出适用型号时，需要基于这些约束条件获取推荐。
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>输入标书上的技术要求，获取系统推荐的多个匹配型号，并按适配度从高到低排序。
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>解决无经验场景下的选型难题，将抽象技术要求转化为具体产品推荐，节省查询时间，避免经验不足导致的选型错误。
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>只知道需求但不知道型号，通过自然语言描述需求，或上传需求文档
        <div style="margin-left: 1rem; font-style: italic; color: #64748b;">
          例："需要一个24V供电、4-20mA输出的温度传感器，测量范围0-150℃，防护等级IP67"
        </div>
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>引导式问答细化需求
        <ul style="margin-left: 1rem;">
          <li>根据初始需求，系统提出进一步问题（"是否需要本安型？"、"安装方式是螺纹还是法兰？"）</li>
          <li>通过对话方式逐步细化需求，条件越具体，结果越精准</li>
          <li>推荐型号列表（系统自动打分）：按性能适配度从高到低排序</li>
          <li>打分逻辑：仅基于性能参数（如精度、量程、防护等级）进行评分</li>
          <li>关键参数对比：突出显示与用户需求的匹配点（颜色标注）</li>
        </ul>
      </div>
    </div>

     <div class="feature-highlight">
      <div class="feature-name">需求明确助手</div>
      <div class="detail-item">
        <strong>智能引导：</strong>系统智能引导用户明确关键技术参数和约束条件
      </div>
      <div class="detail-item">
        <strong>行业术语识别：</strong>自动识别专业术语并提供标准化选项
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>用户描述需求时，系统实时分析并建议完善关键参数
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>生成结构化技术需求清单，为进一步搜索做准备
      </div>
    </div>
  </div>

  <!-- 比较阶段详情 -->
  <div class="stage-details" id="compare-details">
    <h3>比较阶段 - 深入分析与决策</h3>

    <div class="feature-highlight">
      <div class="feature-name">多型号间比较-查优劣</div>
      <div class="detail-item">
        <strong>需求场景：</strong>多候选型号的综合分析
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>当用户已经多型号或者已筛选出多个可能适合的型号后，需要进行深入的多维度比较分析。
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>缩小选择范围，避免信息过载，集中精力评估打分最高的几个选项。
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>比较性能参数，提供最佳选择建议，节省筛选时间，提高决策效率，确保选择的元器件最符合实际应用需求。
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>用户选择多个候选元器件（通常是2-5个），设置比较参数的权重或优先级（如性能优先、交期优先或成本优先）
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>为每个候选型号提供基于用户需求的适配度综合评分
        <ul style="margin-left: 1rem;">
          <li>推荐型号列表（系统自动打分）：按性能适配度从高到低排序</li>
          <li>打分逻辑：基于性能，交期和成本进行综合评分</li>
          <li>关键参数对比：突出显示与用户需求的匹配点（颜色标注）</li>
          <li>提供详细的参数表格，包含所有技术规格</li>
          <li>生成直观的雷达图或矩阵图，展示各型号在不同维度的表现</li>
          <li>允许用户调整重要参数权重，动态更新比较结果</li>
        </ul>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">对比可视化工具</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>参数矩阵对比：</strong>以表格形式展示所有关键参数的差异，突出显示优劣势
        </div>

      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">决策支持分析</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>综合评估：</strong>系统提供综合性能分析建议
        </div>
        <div class="detail-item">
          <strong>适配度评分：</strong>生成应用场景适配度评分，帮助用户做出最终选择
        </div>
      </div>
    </div>
  </div>

  <!-- 咨询阶段详情 -->
  <div class="stage-details" id="inquire-details">
    <h3>咨询阶段 - 专业技术支持</h3>

    <div class="feature-highlight">
      <div class="feature-name">一键咨询-转人工</div>
      <div class="detail-item">
        <strong>需求场景：</strong>需要专业人员解答复杂技术问题
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>当AI无法完全满足用户的技术疑问，或用户需要更专业的建议时，需要连接到真人专家。
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>获取针对特定应用场景的专业建议，解决复杂技术问题。
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>无需多平台切换即可获得专业支持，加快技术决策过程，降低选型风险。
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>一键发起技术咨询请求，附带已筛选元器件信息和具体问题
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>
        <ul style="margin-left: 1rem;">
          <li>自动推荐合适的技术专家</li>
          <li>自动提取用户浏览和比较历史作为背景信息</li>
          <li>提供销售智能回答建议，加速响应过程</li>
          <li>建立结构化的问答记录，便于后续参考</li>
        </ul>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">触发条件</div>
      <div class="detail-content">
        <div class="detail-item"><strong>数据不足：</strong>平台信息不完整或最新规格尚未更新</div>
        <div class="detail-item"><strong>特殊应用：</strong>需要超出标准参数表的专业应用建议</div>
        <div class="detail-item"><strong>定制需求：</strong>需要非标准规格或定制化的元器件方案</div>
        <div class="detail-item"><strong>复杂问题：</strong>需要厂商提供设计建议或技术支持</div>
        <div class="detail-item"><strong>样品申请：</strong>需要获取实物样品进行测试验证</div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">销售咨询网络</div>
      <div class="detail-content">
        <div class="detail-item"><strong>销售咨询匹配：</strong>自动匹配最合适的销售专家</div>
        <div class="detail-item"><strong>多方通讯：</strong>支持多种沟通方式（即时消息、视频会议、邮件）</div>
        <div class="detail-item"><strong>答疑归档：</strong>系统自动记录并归类咨询内容，形成知识库</div>
      </div>
    </div>
  </div>

  <!-- 决策阶段详情 -->
<div class="stage-details" id="decide-details">
  <h3>决策阶段 - 确认选型并流转采购</h3>

  <div class="feature-highlight">
    <div class="feature-name">选型确认与转发</div>
    <div class="detail-item">
      <strong>需求场景：</strong>确认最终元器件选型并流转到采购阶段
    </div>
    <div class="detail-item">
      <strong>需求描述：</strong>当设计工程师经过比较和咨询后确定最终选型，需要将选型结果保存，并转发给采购部门。
    </div>
    <div class="detail-item">
      <strong>使用目的：</strong>标准化选型文档生成，确保采购准确无误，记录选型依据。
    </div>
    <div class="detail-item">
      <strong>用户价值：</strong>提高部门间协作效率，减少信息传递错误，简化选型流程，同步选型及采购活动。
    </div>
    <div class="detail-item">
      <strong>用户行为：</strong>确认最终选择的型号，添加必要决策说明，指定处理流程
      <div style="margin-left: 1rem; font-style: italic; color: #64748b;">
        例："选定NTC温度传感器XYZ-103，主要考虑因素：精度、防水等级和交货周期"
      </div>
    </div>
    <div class="detail-item">
      <strong>系统响应：</strong>生成标准选型报告并提供多种导出选项
      <ul style="margin-left: 1rem;">
        <li>生成包含完整技术参数、决策依据的选型报告</li>
        <li>提供多种导出格式（PDF、Excel、BOM格式）</li>
        <li>直接发送给指定相关人员（采购、项目经理等），以及平台协作</li>
        <li>记录完整选型过程，包括比较历史和咨询记录</li>
        <li>提供替代方案建议以应对潜在供应风险</li>
      </ul>
    </div>
  </div>

  <div class="detail-section">
    <div class="detail-title">BOM管理工具</div>
    <div class="detail-content">
      <div class="detail-item">
        <strong>一键添加到BOM：</strong>将确认的元器件直接添加到项目BOM表
      </div>
      <div class="detail-item">
        <strong>批量导入导出：</strong>支持Excel、CSV等格式的BOM批量处理
      </div>
      <div class="detail-item">
        <strong>BOM版本控制：</strong>记录BOM变更历史，支持版本比较和回溯
      </div>
      <div class="detail-item">
        <strong>BOM成本分析：</strong>提供整体BOM成本估算和优化建议
      </div>
    </div>
  </div>

  <div class="detail-section">
    <div class="detail-title">选型决策记录</div>
    <div class="detail-content">
      <div class="detail-item">
        <strong>决策理由文档：</strong>记录选型决策的技术和商业原因
      </div>
      <div class="detail-item">
        <strong>选型证据保存：</strong>保存比较数据、咨询记录等作为选型依据
      </div>
      <div class="detail-item">
        <strong>备选方案记录：</strong>保存次优选择作为备选方案
      </div>
    </div>
  </div>

  <div class="detail-section">
    <div class="detail-title">协作功能</div>
    <div class="detail-content">
      <div class="detail-item">
        <strong>审批流程：</strong>支持多级审批流程，确保选型符合公司标准
      </div>
      <div class="detail-item">
        <strong>团队协作：</strong>允许项目团队成员查看和评论选型决策
      </div>
      <div class="detail-item">
        <strong>通知系统：</strong>自动通知相关人员选型状态更新
      </div>
      <div class="detail-item">
        <strong>与PLM/ERP集成（目前不开放）：</strong>支持与企业已有系统无缝对接
      </div>
    </div>
  </div>

</div>


</div>













    <!-- 采购工程师用户旅程 -->
    <div class="role-content" id="procurement">
      <h2>采购工程师用户旅程</h2>
      <p>秒寻如何帮助采购工程师更高效地询比价以及管理订单</p>

      <div class="journey-map">
        <div class="stage active" data-stage="proc-need">
          <div class="stage-icon">需</div>
          <div class="stage-name">需求阶段</div>
        </div>
        <div class="stage" data-stage="proc-filter">
          <div class="stage-icon">筛</div>
          <div class="stage-name">筛选阶段</div>
        </div>
        <div class="stage" data-stage="proc-inquire">
          <div class="stage-icon">询</div>
          <div class="stage-name">询价阶段</div>
        </div>
        <div class="stage" data-stage="proc-compare">
          <div class="stage-icon">比</div>
          <div class="stage-name">比价阶段</div>
        </div>
        <div class="stage" data-stage="proc-order">
          <div class="stage-icon">订</div>
          <div class="stage-name">订单阶段</div>
        </div>
      </div>

      <!-- 采购需求阶段详情 -->
      <div class="stage-details active" id="proc-need-details">
        <h3>需求阶段</h3>

        <div class="detail-section">
          <div class="detail-title">需求确认行为</div>
          <div class="detail-content">
            <div class="detail-item">与设计工程师就技术规格进行沟通确认</div>
            <div class="detail-item">标记可替代型号的灵活度范围</div>
            <div class="detail-item">确定采购优先级（交期/成本/品质）</div>
            <div class="detail-item">采购无专业知识只能比价格</div>
          </div>
        </div>
      </div>

      <!-- 采购筛选阶段详情 -->
      <div class="stage-details" id="proc-filter-details">
        <h3>筛选阶段</h3>

        <div class="detail-section">
          <div class="detail-title">供应商筛选行为</div>
          <div class="detail-content">
            <div class="detail-item">按地区、认证资质、历史合作记录筛选供应商</div>
            <div class="detail-item">查看供应商评分和交付能力数据</div>
            <div class="detail-item">筛选授权代理商或原厂直供渠道</div>
          </div>
        </div>
      </div>

      <!-- 采购询价阶段详情 -->
      <div class="stage-details" id="proc-inquire-details">
        <h3>询价阶段</h3>

        <div class="detail-section">
          <div class="detail-title">询价行为</div>
          <div class="detail-content">
            <div class="detail-item">多渠道供应商推荐，支持一键询价</div>
          </div>
        </div>
      </div>

      <!-- 采购比价阶段详情 -->
      <div class="stage-details" id="proc-compare-details">
        <h3>比价阶段</h3>

        <div class="detail-section">
          <div class="detail-title">比价行为</div>
          <div class="detail-content">
            <div class="detail-item">接收报价、交期、最小订购量等信息</div>
            <div class="detail-item">智能分析总结：综合对比供应商报价、交期和服务条款</div>
          </div>
        </div>
      </div>

      <!-- 采购订单阶段详情 -->
      <div class="stage-details" id="proc-order-details">
        <h3>订单阶段</h3>

        <div class="detail-section">
          <div class="detail-title">订单执行行为</div>
          <div class="detail-content">
            <div class="detail-item">系统生成标准采购订单</div>
            <div class="detail-item">集成式下单流程，一键发送给供应商</div>
            <div class="detail-item">订单跟踪与状态更新</div>
          </div>
        </div>
      </div>
    </div>

    <!-- 销售工程师用户旅程 -->
<div class="role-content" id="sales">
  <h2>销售工程师用户旅程</h2>
  <p>秒寻如何帮助销售工程师提升技术咨询及询盘的质量和效率</p>

  <div class="journey-map">
    <div class="stage active" data-stage="sales-marketing">
      <div class="stage-icon">营</div>
      <div class="stage-name">营销阶段</div>
    </div>
    <div class="stage" data-stage="sales-consult">
      <div class="stage-icon">咨</div>
      <div class="stage-name">咨询阶段</div>
    </div>
    <div class="stage" data-stage="sales-deal">
      <div class="stage-icon">售</div>
      <div class="stage-name">售卖阶段</div>
    </div>
    <div class="stage" data-stage="sales-service">
      <div class="stage-icon">服</div>
      <div class="stage-name">服务阶段</div>
    </div>
  </div>

  <!-- 营销阶段详情 -->
  <div class="stage-details active" id="sales-marketing-details">
    <h3>营销阶段 - 完善产品数据与提升询盘机会</h3>

    <div class="feature-highlight">
      <div class="feature-name">产品数据管理</div>
      <div class="detail-item">
        <strong>需求场景：</strong>销售工程师需要快速上传和管理产品数据，确保设计工程师和采购工程师能找到最新最全的信息
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>批量上传和维护产品技术参数、规格说明，提供专业的产品资料，吸引潜在客户
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>创建高质量产品档案，提高产品在平台的可发现性和专业度
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>减少90%产品数据管理时间，自动化数据质量检查，增加询盘机会
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>批量上传产品数据，维护产品生命周期状态
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>数据质量自动评分，提供优化建议
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">数据质量管理</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>实时数据健康度监控：</strong>系统自动检测数据完整性、准确性，提供质量评分和优化建议
        </div>
        <div class="detail-item">
          <strong>定期更新提醒：</strong>产品生命周期、停产计划、新型号发布等关键信息变更时，系统自动提醒更新
        </div>
      </div>
    </div>
  </div>

  <!-- 咨询阶段详情 -->
  <div class="stage-details" id="sales-consult-details">
    <h3>咨询阶段 - 智能高效的技术支持</h3>

    <div class="feature-highlight">
      <div class="feature-name">设计工程师具体型号咨询</div>
      <div class="detail-item">
        <strong>需求场景：</strong>设计工程师通过秒寻AI工具未能完全解决的技术问题，需要人工销售工程师提供专业支持
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>针对特定型号的深度技术咨询，包括应用限制、参数解释、兼容性问题或定制需求等
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>为设计工程师提供AI无法完全覆盖的专业判断和行业经验，解决复杂技术疑问
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>提高咨询响应速度70%，答复准确率提升40%，强化销售工程师专业形象，提高转化率
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>接收系统分配的技术咨询请求，查看详细咨询内容</li>
            <li>参考系统生成的回答建议，结合自身专业知识进行回复</li>
          </ul>
        </div>
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>总结设计工程师与系统的对话历史，锚定需求及询问背景</li>
            <li>基于AI生成回答建议，但标注需要人工确认的关键点</li>
            <li>记录咨询对话内容并生成录入到知识库，用于未来类似问题的快速响应</li>
          </ul>
        </div>
      </div>
    </div>

  
    <!-- 采购工程师交期价格咨询 -->
    <div class="feature-highlight">
      <div class="feature-name">采购工程师交期价格咨询</div>
      <div class="detail-item">
        <strong>需求场景：</strong>型号性能已确定，采购工程师需要了解供应渠道、交期和具体价格以做出采购决策
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>采购需要知道特定型号的实时库存情况、批量价格、交付周期，以及是否有替代供应渠道
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>快速提供准确的商务信息，帮助采购优化订单策略，平衡成本与交期需求
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>缩短询价响应时间75%，减少多轮沟通，为采购提供全面透明的供应链信息，支持更高效的决策
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
	    <li>接收系统分配的采购咨询请求，查看详细咨询内容</li>
          </ul>
        </div>
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
	    <li>总结采购工程师与系统的对话历史，锚定需求及询问背景</li>
            <li>基于AI生成回答建议，但标注需要人工确认的关键点</li>
            <li>记录咨询对话内容并生成录入到知识库，用于未来类似问题的快速响应</li>            
          </ul>
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">智能客户分析</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>客户偏好分析：</strong>系统自动记录和分析客户的产品浏览历史、比较行为和技术需求特点
        </div>
        <div class="detail-item">
          <strong>需求预测：</strong>基于历史互动数据，预测客户可能感兴趣的相关产品和解决方案
        </div>
        <div class="detail-item">
          <strong>专业程度评估：</strong>识别客户的技术专业程度，调整回复的技术深度和详细度
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">知识库与协作</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>技术问题库：</strong>记录并分类所有技术咨询，形成可搜索知识库，提高复用效率
        </div>
        <div class="detail-item">
          <strong>技术内容创建：</strong>基于常见问题自动生成常见问题解答
        </div>
      </div>
    </div>
  </div>

  <!-- 售卖阶段详情 -->
  <div class="stage-details" id="sales-deal-details">
    <h3>售卖阶段 - 智能报价与商务谈判</h3>

    <div class="feature-highlight">
      <div class="feature-name">询价智能响应</div>
      <div class="detail-item">
        <strong>需求场景：</strong>采购工程师提交产品询价，销售需要快速准确地提供报价和交期
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>接收系统分配的询价需求，根据产品、数量、客户级别等因素生成专业报价
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>提高询价响应速度，提供最具竞争力的价格和交期，增加成交几率
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>询价响应时间从平均2小时缩短至15分钟，报价准确性提升35%，成交率提高20%
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>接收询价通知，查看产品、数量和客户信息</li>
            <li>根据系统推荐的价格策略和阶梯定价进行调整</li>
            <li>确认库存状态和交期，添加商务条款</li>
            <li>发送报价并跟踪客户反馈</li>
          </ul>
        </div>
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>自动生成基础报价单，包含标准价格、阶梯折扣和交期</li>
            <li>显示历史交易记录和客户价格敏感度分析</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">订单转化跟踪</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>销售漏斗管理：</strong>可视化展示各阶段询价和订单状态，预测成交概率
        </div>
        <div class="detail-item">
          <strong>未转化询价提醒：</strong>智能提醒跟进长期未转化的高价值询价
        </div>
        <div class="detail-item">
          <strong>成交率分析：</strong>按产品线、客户类型和区域分析询价转化率，识别改进机会
        </div>
        <div class="detail-item">
          <strong>销售预测：</strong>基于历史数据和当前漏斗状态，预测未来销售表现
        </div>
      </div>
    </div>
  </div>




















  <!-- 服务阶段详情 -->
  <div class="stage-details" id="sales-service-details">
    <h3>服务阶段 - 高效订单管理与售后支持</h3>

    <div class="feature-highlight">
      <div class="feature-name">订单全周期管理</div>
      <div class="detail-item">
        <strong>需求场景：</strong>销售需要实时监控订单状态，主动识别风险并与客户保持沟通
      </div>
      <div class="detail-item">
        <strong>需求描述：</strong>跟踪订单从确认到交付的全流程，及时处理异常情况，确保客户满意
      </div>
      <div class="detail-item">
        <strong>使用目的：</strong>提高订单执行透明度，减少交付风险，增强客户信任和满意度
      </div>
      <div class="detail-item">
        <strong>用户价值：</strong>订单交付准时率提升25%，客户满意度提高30%，减少65%订单跟踪时间
      </div>
      <div class="detail-item">
        <strong>用户行为：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>监控订单状态仪表板，关注异常提醒</li>
            <li>处理交期风险、物料短缺等异常情况</li>
            <li>向客户主动推送订单状态更新和预警</li>
            <li>协调内部资源解决交付问题</li>
          </ul>
        </div>
      </div>
      <div class="detail-item">
        <strong>系统响应：</strong>
        <div style="margin-left: 1rem;">
          <ul style="list-style-type: disc;">
            <li>实时监控订单状态，自动检测偏差和风险</li>
            <li>生成订单进度可视化视图和风险评估</li>
            <li>提供异常处理建议和协调流程</li>
            <li>自动向客户推送关键状态更新</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">客户关系维护</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>客户档案管理：</strong>全面记录客户偏好、接触历史和决策流程，建立深度客户洞察
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">技术售后支持</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>问题知识库共享：</strong>将常见技术问题及解决方案整理为知识库，供客户自助查询
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">商机扩展管理</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>交叉销售推荐：</strong>基于客户现有产品组合，智能推荐匹配的补充产品和解决方案
        </div>
        <div class="detail-item">
          <strong>升级机会提醒：</strong>识别客户产品更新、升级和替换时机，提前规划销售策略
        </div>
        <div class="detail-item">
          <strong>项目扩展追踪：</strong>追踪客户项目进展，识别新阶段带来的产品需求机会
        </div>
        <div class="detail-item">
          <strong>客户反馈收集：</strong>系统化收集客户意见和建议，推动产品改进和创新
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-title">绩效与持续改进</div>
      <div class="detail-content">
        <div class="detail-item">
          <strong>服务效率分析：</strong>分析响应时间、解决率和服务质量，识别优化机会
        </div>
        <div class="detail-item">
          <strong>个人绩效仪表板：</strong>提供销售工程师个人KPI实时跟踪，包括客户满意度、响应时间等
        </div>
      </div>
    </div>
  </div>
</div>













    <!-- 跨角色协作用户旅程 -->
    <div class="role-content" id="interaction">
      <h2>跨角色协作</h2>
      <p>秒寻如何打通不同角色之间的协作壁垒</p>

      <!-- 工业元器件供应链层级与流向 -->
      <div style="background-color: white; padding: 1.5rem; border-radius: var(--border-radius); border: 1px solid #e2e8f0; margin: 1.5rem 0;">
        <h3 style="margin-bottom: 1.5rem;">工业元器件供应链层级与流向</h3>

        <div style="position: relative; min-height: 650px; margin-bottom: 1.5rem;">
          <!-- 中央垂直连接线 -->
          <div style="position: absolute; top: 70px; left: 50%; transform: translateX(-50%); width: 4px; height: 580px; background-color: var(--primary); opacity: 0.15; z-index: 1; border-radius: 2px;"></div>

          
          <!-- 层级1: 原厂 -->
          <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
            <div style="width: 240px; padding: 1rem; background-color: var(--primary); color: white; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">1. 原厂</div>
              <div style="font-size: 0.9rem;">生产芯片、传感器、机械部件等基础元器件</div>
            </div>
          </div>

          <!-- 层级2: 授权分销商 -->
          <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
            <div style="width: 240px; padding: 1rem; background-color: var(--primary); color: white; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">2. 授权分销商</div>
              <div style="font-size: 0.9rem;">直接从原厂获取授权分销产品</div>
            </div>
          </div>

          <!-- 横向连接线 -->
          <div style="position: absolute; top: 280px; left: 26%; width: 48%; height: 3px; background-color: var(--primary); opacity: 0.15; z-index: 1;"></div>

          <!-- 层级3: 区域代理商与独立分销商 (并列) -->
          <div style="display: flex; justify-content: space-between; margin: 0 auto; width: 85%; margin-bottom: 2rem;">
            <!-- 区域代理商 -->
            <div style="width: 200px; padding: 1rem; background-color: var(--primary); color: light red; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">3a. 区域代理商</div>
              <div style="font-size: 0.9rem;">负责特定区域的销售</div>
            </div>

            <!-- 独立分销商 -->
            <div style="width: 200px; padding: 1rem; background-color: var(--primary); color: light red; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">3b. 独立分销商</div>
              <div style="font-size: 0.9rem;">提供现货或紧缺物料</div>
            </div>
          </div>

          <!-- B2B采购平台 -->
          <div style="display: flex; justify-content: flex-end; margin-right: 7.5%; margin-bottom: 1rem;">
            <div style="width: 180px; padding: 0.7rem; background-color: var(--primary); color: white; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; font-size: 0.9rem;">B2B采购平台</div>
            </div>
          </div>

          <!-- 汇合连接线 -->
          <div style="position: absolute; top: 320px; left: 25%; height: 75px; width: 3px; background-color: var(--primary); opacity: 0.15; z-index: 1;"></div>
          <div style="position: absolute; top: 320px; right: 25%; height: 75px; width: 3px; background-color: var(--primary); opacity: 0.15; z-index: 1;"></div>
          <div style="position: absolute; top: 395px; left: 25%; width: 50%; height: 3px; background-color: var(--primary); opacity: 0.15; z-index: 1;"></div>

          <!-- 层级4: 合约制造商 -->
          <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
            <div style="width: 240px; padding: 1rem; background-color: var(--primary); color: white; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 2px solid rgba(255,255,255,0.8);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">4. 合约制造商(CM)</div>
              <div style="font-size: 0.9rem;">生产设备本体与模块</div>
            </div>
          </div>

          <!-- 层级5: 系统集成商 -->
          <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
            <div style="width: 240px; padding: 1rem; background-color: var(--primary); color: light red; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 2px solid rgba(255,255,255,0.8);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">5. 系统集成商(SI)</div>
              <div style="font-size: 0.9rem;">整合设备、软件、网络，提供完整系统解决方案</div>
            </div>
          </div>

          <!-- 层级6: 终端客户 -->
          <div style="display: flex; justify-content: center;">
            <div style="width: 240px; padding: 1rem; background-color: var(--primary); color: white; text-align: center; border-radius: var(--border-radius); position: relative; z-index: 2; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">6. 终端客户</div>
              <div style="font-size: 0.9rem;">汽车厂、3C工厂等</div>
            </div>
          </div>
        </div>

        <!-- 流向说明 -->
        <div style="background-color: #f8fafc; padding: 1.2rem; border-radius: var(--border-radius); font-size: 0.95rem; margin-top: 1rem;">
          <div style="font-weight: 600; margin-bottom: 0.8rem;">供应链层级与流向说明:</div>
          <ul style="padding-left: 1.5rem; margin-bottom: 0; line-height: 1.6;">
            <li><strong>第一层 → 第二层:</strong> 原厂向授权分销商提供元器件产品及技术支持</li>
            <li><strong>第二层 → 第三层:</strong> 授权分销商向区域代理商和独立分销商分销产品</li>
            <li><strong>第三层 → 第四层:</strong> 合约制造商通过区域代理商获取常规物料，通过B2B平台从独立分销商处获取紧缺物料</li>
            <li><strong>第四层 → 第五层:</strong> 系统集成商从合约制造商获取设备和模块进行集成</li>
            <li><strong>第五层 → 第六层:</strong> 终端客户从系统集成商获取完整的系统解决方案</li>
          </ul>
        </div>

        <!-- 挑战点说明 -->
        <div style="margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 1rem;">
          <div style="flex: 1; min-width: 250px; background-color: #f1f5f9; padding: 1rem; border-radius: var(--border-radius); border-left: 4px solid var(--primary);">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">信息流断层问题</div>
            <div style="font-size: 0.9rem;">原厂产品信息、库存状态、生命周期等关键数据在流转过程中大量损失，导致下游客户决策不准确</div>
          </div>
          <div style="flex: 1; min-width: 250px; background-color: #f1f5f9; padding: 1rem; border-radius: var(--border-radius); border-left: 4px solid var(--primary);">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">多层级传递挑战</div>
            <div style="font-size: 0.9rem;">层级传递导致信息延迟，尤其在缺货、停产等紧急情况下，响应速度慢导致供应链风险扩大</div>
          </div>
          <div style="flex: 1; min-width: 250px; background-color: #f1f5f9; padding: 1rem; border-radius: var(--border-radius); border-left: 4px solid var(--primary);">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">秒寻价值点</div>
            <div style="font-size: 0.9rem;">打通各层级信息壁垒，实现元器件技术数据、供应状态的快速准确传递，降低沟通成本提高决策效率</div>
          </div>
        </div>
      </div>

      <div class="journey-map">

        <div class="stage active" data-stage="inter-engineer-sales">
          <div class="stage-icon">工销</div>
          <div class="stage-name">工程师与销售</div>
        </div>
        <div class="stage" data-stage="inter-engineer-procurement">
          <div class="stage-icon">工采</div>
          <div class="stage-name">工程师与采购</div>
        </div>
        <div class="stage" data-stage="inter-procurement-sales">
          <div class="stage-icon">采销</div>
          <div class="stage-name">采购与销售</div>
        </div>
        <div class="stage" data-stage="inter-full-process">
          <div class="stage-icon">全流</div>
          <div class="stage-name">完整流程</div>
        </div>
      </div>

      <!-- 工程师与销售协作详情 -->
      <div class="stage-details active" id="inter-engineer-sales-details">
        <h3>设计工程师与销售工程师的技术沟通</h3>

        <div class="detail-section">
          <div class="detail-title">实际场景举例</div>
          <div class="detail-content">
            <div class="detail-item"><strong>STEP1:</strong> 设计工程师正在寻找一款5G通信模块，通过"秒寻"平台的约束条件查询功能输入了温度范围(-40°C~85°C)、传输速率(>1Gbps)等参数后，系统推荐了几款合适的产品。但对于其中一款模块在高温环境下的功耗表现，工程师存在疑问。</div>
            <div class="detail-item"><strong>STEP2:</strong> 设计工程师在多型号综合比较界面直接点击"咨询"按钮</div>
            <div class="detail-item"><strong>STEP3:</strong> 系统自动将工程师关注的3款5G模块信息（包括之前的筛选条件和比较结果）作为背景信息，同时附带问题"TX功率在85°C最大负载下的温升情况如何？特别关注热稳定性"推送给对应销售</div>
<div class="detail-item"><strong>STEP4:</strong> 销售工程师通过技术咨询响应流程收到咨询后，系统自动提供了智能回答建议，同时标注了需要人工确认的关键点</div>
<div class="detail-item"><strong>STEP5:</strong> 销售工程师除了回复标准答案，还基于系统提供的工程师浏览历史分析，发现其设计需要在户外环境使用，因此补充建议："考虑到您的应用场景需要户外工作，建议选择XYZ-500型号，它采用了创新散热设计，在85°C环境下仍能保持稳定性能，且支持5G SA/NSA双模式"</div>
          </div>
        </div>

        <div class="detail-section">
          <div class="detail-title">信息传递优势</div>
          <div class="detail-content">
            <div class="detail-item"><strong>1. 浏览历史同步：</strong> 销售能看到工程师已经通过精确型号查询功能查看过哪些产品，通过筛选功能设置了哪些约束条件，并已经使用多型号综合比较工具比较了哪些关键参数，从而更有针对性地回答问题</div>
            <div class="detail-item"><strong>2. 咨询效率提升：</strong> 工程师无需重复解释复杂的技术背景和产品筛选历程，沟通效率提高约40%，减少信息丢失</div>
            <div class="detail-item"><strong>3. 知识库积累：</strong> 技术问题及解答自动记录并分类到系统知识库，其他工程师在平台搜索类似问题时可以直接查阅，提高平台整体价值</div>
          </div>
        </div>
      </div>

      <!-- 工程师与采购协作详情 -->
      <div class="stage-details" id="inter-engineer-procurement-details">
        <h3>设计工程师与采购工程师的日常协作</h3>

        <div class="detail-section">
          <div class="detail-title">实际场景举例</div>
          <div class="detail-content">
	    <div class="detail-item"><strong>当设计工程师完成压力传感器选型后，执行以下操作：</strong></div>            
            <div class="detail-item"><strong>STEP1:</strong> 使用多型号综合比较功能对比后，确定选择PT-100系列压力传感器</div>
            <div class="detail-item"><strong>STEP2:</strong> 通过选型确认与转发功能，系统自动生成包含完整技术规格的标准选型单，并一键将结果推送给采购工程师</div>
            <div class="detail-item"><strong>STEP3:</strong> 采购工程师收到通知后，使用供应商筛选功能查询库存和交期信息，发现所选PT-100系列需要等待8周</div>
	    <div class="detail-item"><strong>STEP3:</strong> 采购通过系统直接反馈给工程师："您选的PT-100系列传感器目前供应紧张，需要等8周，但我通过平替品推荐功能发现PT-110系列有相似规格且库存充足，是否可接受替换？"</div>
 	    <div class="detail-item"><strong>STEP3:</strong> 设计工程师收到通知后，直接在系统中查看采购推荐的替代型号技术参数对比，使用参数对比功能确认技术兼容性，快速做出决策</div>


          </div>
        </div>

        <div class="detail-section">
          <div class="detail-title">问题解决方式</div>
          <div class="detail-content">
            <div class="detail-item"><strong>过去：</strong>工程师发邮件给采购→采购打电话询问交期→邮件回复工程师→工程师再研究替代方案→重新发邮件，往返耗时可能3-5天，且每次沟通都可能丢失关键技术信息</div>
            <div class="detail-item"><strong>现在：</strong>全程在系统内闭环，技术参数自动同步且可实时对比，确保信息准确传递，一般1天内即可完成方案确认，并自动记录整个决策过程</div>
          </div>
        </div>
      </div>

      <!-- 采购与销售协作详情 -->
      <div class="stage-details" id="inter-procurement-sales-details">
        <h3>采购工程师与销售工程师的商务沟通</h3>

        <div class="detail-section">
          <div class="detail-title">实际场景举例</div>
          <div class="detail-content">
	    <div class="detail-item"><strong>采购工程师通过以下步骤与销售高效沟通：</strong></div>
            <div class="detail-item"><strong>STEP1:</strong> 采购收到设计工程师通过选型确认与转发功能发送的5款电容选型单</div>
            <div class="detail-item"><strong>STEP2:</strong> 使用多渠道询价功能，点击"批量询价"按钮</div>
            <div class="detail-item"><strong>STEP3:</strong> 系统将这5款电容的完整规格参数、预计年用量等信息自动整合为标准询价单，一键发送给多家供应商销售</div>
            <div class="detail-item"><strong>STEP4:</strong> 销售工程师通过询价智能响应功能收到询价单，系统自动匹配历史报价和库存状态，辅助生成报价建议</div>
            <div class="detail-item"><strong>STEP5:</strong> 销售回复："尊敬的客户，YC系列电容本月有促销活动，订购1000个以上单价可享受7折优惠，降至0.35元/个，目前有现货可立即发货"</div>
	    <div class="detail-item"><strong>STEP6:</strong> 采购使用比价行为功能在系统中进行多供应商报价对比，系统智能分析总结各供应商优缺点，辅助采购决策</div>
            <div class="detail-item"><strong>STEP6:</strong> 最终采购通过系统订单执行行为功能完成订单下单流程</div>

          </div>
        </div>

        <div class="detail-section">
          <div class="detail-title">效率提升点</div>
          <div class="detail-content">
            <div class="detail-item"><strong>1.参数传递准确：</strong> 采购无需重复手动输入技术参数，系统自动从设计师选型单继承完整技术要求，减少了沟通错误和信息丢失</div>
            <div class="detail-item"><strong>2.历史数据追踪：</strong> 系统自动记录所有报价历史和条款变更，便于后续比价和成本控制，提供可追溯性</div>
            <div class="detail-item"><strong>3.响应时间缩短：</strong> 供应商平均响应时间从传统的2天缩短至4小时内，大幅提升商务处理效率</div>
	    <div class="detail-item"><strong>4.多方报价比对：</strong> 系统自动生成报价对比表格，包含价格、交期、付款方式等多维度比较，帮助采购做出最佳选择</div>

          </div>
        </div>
      </div>

      <!-- 完整流程协作详情 -->
      <div class="stage-details" id="inter-full-process-details">
        <h3>完整元器件选型到采购案例</h3>

        <div class="detail-section">
          <div class="detail-title">从需求到下单的完整流程</div>
          <div class="detail-content">
            <div class="detail-item">
              <strong>1. 需求确定阶段</strong>
              <ul style="margin-left: 1rem;">
                <li>设计工程师通过约束条件查询功能输入："需要一款12V输入、双路5V/3A输出的DC-DC转换器，效率>90%，支持-40°C~85°C工作温度"</li>
                <li>系统识别关键技术参数并通过需求明确助手功能引导工程师补充额外要求（如尺寸限制、特殊认证等）</li>
		<li>系统推荐5款符合条件的产品，并按性能适配度排序显示</li>
              </ul>
            </div>
            <div class="detail-item">
              <strong>2. 技术确认阶段</strong>
              <ul style="margin-left: 1rem;">
                <li>工程师使用多型号综合比较功能选出3款进行详细对比，发现一款TI公司的DC-DC转换器参数完全符合但EMC认证信息不完整</li>
                <li>工程师点击"咨询"按钮，通过技术咨询互动功能向销售提问："这款DC-DC转换器是否已通过EN55032认证？有测试报告吗？"</li>
                <li>销售通过技术咨询响应流程收到问题，并调取产品资料后回复："已通过认证，我已上传最新测试报告到系统"</li>
		<li>工程师查看报告确认符合要求后，通过选型确认与转发功能确认选型</li>
              </ul>
            </div>
            <div class="detail-item">
              <strong>3. 供应确认阶段</strong>
              <ul style="margin-left: 1rem;">
                <li>系统自动通知采购部门，包含完整的技术参数和可接受的替代型号范围</li>
                <li>采购使用供应商筛选行为筛选符合条件的供应商，然后通过多渠道询价功能向3家供应商询价</li>
                <li>采购收到响应后使用比价行为功能生成对比表格，同时系统的智能分析显示首选型号交期较长</li>
                <li>采购通过系统请工程师确认是否接受现货替代型号，同时附上参数对比功能生成的差异对比表</li>
              </ul>
            </div>
            <div class="detail-item">
              <strong>4. 下单执行阶段</strong>
              <ul style="margin-left: 1rem;">
                <li>工程师确认替代型号可接受后，采购在系统中使用订单执行行为一键生成规范化的采购订单</li>
                <li>供应商销售接收订单，确认库存和发货时间</li>
                <li>系统自动更新项目进度，所有相关人员（设计工程师、采购和项目经理）同步收到状态更新通知</li>
		<li>系统同时将订单信息同步至BOM管理系统，便于追踪和管理</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="detail-section">
          <div class="detail-title">协作效果</div>
          <div class="detail-content">
            <div class="detail-item"><strong>跨部门无缝协作：</strong> 整个流程在秒寻系统内完成，无需在邮件、电话和不同系统间切换，实现信息无缝流转</div>
            <div class="detail-item"><strong>决策记录完整：</strong> 所有选型依据、价格谈判和技术咨询记录完整保存，为后续项目提供参考和追溯依据</div>
            <div class="detail-item"><strong>流程大幅加速：</strong> 元器件从初次搜索到最终下单的时间从原来的平均2周缩短到3-5天，效率提升70%以上</div>
            <div class="detail-item"><strong>错误率显著降低：</strong> 系统确保技术参数在流转过程中保持一致，减少了约75%的沟通误差和返工情况</div>
	    <div class="detail-item"><strong>资源利用优化：</strong> 设计师、采购和销售的工作重点放在决策和核心价值上，而非繁琐的信息传递和整理工作</div>
          </div>
        </div>
      </div>
    </div>

    








  












<!-- 功能演示 -->



<!-- 功能内容区域 -->

<div class="feature-content">


<!-- 功能选项卡导航 -->

<div style="background-color: #f0f7ff; border-radius: 12px; padding: 1rem 2rem 0.5rem 2rem; margin: 3rem 0 0 0;">  
<div style="display: flex; gap: 1rem; align-items: center;">


    <button class="feature-tab active" data-tab="single-query" style="background-color: #2563eb; color: white; border: none; border-radius: 6px; padding: 0.75rem 1.5rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; min-width: 120px; text-align: center;">


      查询页面
    </button>


  </div>
</div>






















<!-- 功能内容面板容器 -->
<div id="feature-content-container" style="margin-top: 0; border-top-left-radius: 0; border-top-right-radius: 0;">


<!-- 单件查询内容面板 -->
<div id="single-query-content" class="feature-content-panel active">

<div id="constraint-query-content" class="demo-content" style="display: block;">










<!-- 约束条件查询功能演示 -->
<div id="core-features" style="background-color: #f0f7ff; border-radius: 12px; padding: 2rem; margin: 3rem 0; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);">
  

<!-- 功能标题区 -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
    
<div style="display: flex; flex-direction: column; gap: 0.6rem;">
  <h2 style="margin: 0; font-size: 1.5rem; font-weight: 600;">自然语言对话</h2>
  <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
    <span style="color: #666; font-size: 0.9rem; padding-left: 0.5rem; border-left: 3px solid #2563eb;">约束条件查询</span>
    <span style="color: #666; font-size: 0.9rem; padding-left: 0.5rem; border-left: 3px solid #2563eb;">精确型号查询</span>
    <span style="color: #666; font-size: 0.9rem; padding-left: 0.5rem; border-left: 3px solid #2563eb;">替代产品查询</span>
  </div>
</div>



 <!-- 功能按钮区 -->
    <div style="display: flex; gap: 0.8rem;">
      <button style="background-color: #2563eb; color: white; border: none; border-radius: 6px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        比较
      </button>






<button onclick="downloadSearchResults()" style="background-color: #2563eb; color: white; border: 1px solid #e2e8f0; border-radius: 6px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; cursor: pointer;">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
    <polyline points="7 10 12 15 17 10"></polyline>
    <line x1="12" y1="15" x2="12" y2="3"></line>
  </svg>
  下载
</button>




      <button style="background-color: white; color: #2563eb; border: none; border-radius: 6px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        咨询
      </button>




      <button style="background-color: white; color: #2563eb; border: 1px solid #e2e8f0; border-radius: 6px; padding: 0.5rem 1rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
          <polyline points="16 6 12 2 8 6"></polyline>
          <line x1="12" y1="2" x2="12" y2="15"></line>
        </svg>
        分享
      </button>
      




    </div>
</div>
 





<!-- 主体内容区：聊天窗口和结果展示 -->
 <div style="display: flex; gap: 2rem; height: 600px;">






<!-- 左侧聊天窗口 -->
  <div style="flex: 1; background-color: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); display: flex; flex-direction: column;">
  <!-- 聊天消息区域 -->
  <div style="flex-grow: 1; overflow-y: auto; margin-bottom: 1rem;">
    <!-- 用户初始消息 -->
    <div style="display: flex; margin-bottom: 1rem; justify-content: flex-end;">
      <div style="background-color: #eef2ff; padding: 1rem; border-radius: 8px; max-width: 80%;">
        <p style="margin: 0;">我需要查找一款适合高精度定位控制系统的伺服电机，大约2kW功率左右，转速要达到3000rpm，您能帮我找到合适的产品吗？</p>

<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>

      </div>
      


<div style="width: 36px; height: 36px; background-color: #e2e8f0; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-left: 0.8rem; flex-shrink: 0; color: #334155;">

        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
</div>
    </div>

    <!-- AI回复询问更多细节 -->
    <div style="display: flex; margin-bottom: 1rem;">
      <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
          <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
          <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
          <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
        </svg>
      </div>
      <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
        <p style="margin-top: 0; margin-bottom: 0.5rem;">我可以帮您查找合适的伺服电机。为了提供更准确的结果，请问：</p>
        <ul style="padding-left: 1.2rem; margin-bottom: 0.5rem;">
          <li>您对电机扭矩有具体要求吗？根据功率和转速计算，约需6.4Nm左右</li>
          <li>需要特定的通信协议吗？例如EtherCAT、PROFINET等</li>
          <li>对电机的反馈精度有特殊要求吗？</li>
        </ul>


<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>




      </div>
    </div>

    <!-- 用户回复更多细节 -->
    <div style="display: flex; margin-bottom: 1rem; justify-content: flex-end;">
      <div style="background-color: #eef2ff; padding: 1rem; border-radius: 8px; max-width: 80%;">
        <p style="margin: 0;">扭矩需求是6.37Nm左右，通信协议必须支持EtherCAT，这是为了配合现有的控制系统。因为是用于高精度定位控制，所以精度越高越好。</p>


<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>

      </div>
      <div style="width: 36px; height: 36px; background-color: #e2e8f0; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-left: 0.8rem; flex-shrink: 0; color: #334155;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>

    <!-- AI确认条件 -->
    <div style="display: flex; margin-bottom: 1rem;">
      <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
          <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
          <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
          <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
        </svg>
      </div>
      <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
        <p style="margin-top: 0; margin-bottom: 0.5rem;">我将基于您提供的约束条件查找合适的伺服电机产品：</p>
        <ul style="padding-left: 1.2rem; margin-bottom: 0.5rem;">
          <li>额定功率: 2kW</li>
          <li>额定转速: 3000rpm</li>
          <li>额定扭矩: 6.37Nm</li>
          <li>通信协议: EtherCAT</li>
          <li>应用场景: 高精度定位控制系统</li>
        </ul>
        <p style="margin-bottom: 0;">我是否理解正确？如需调整，请直接修改条件。</p>


<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>


      </div>
    </div>
    
    <!-- 用户消息 -->
    <div style="display: flex; margin-bottom: 1rem; justify-content: flex-end;">
      <div style="background-color: #eef2ff; padding: 1rem; border-radius: 8px; max-width: 80%;">
        <p style="margin: 0;">是的，条件正确，请帮我查找合适的产品。我希望电机的精度越高越好。</p>


<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>


      </div>
      <div style="width: 36px; height: 36px; background-color: #e2e8f0; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-left: 0.8rem; flex-shrink: 0; color: #334155;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    
    <!-- AI回复查询结果 -->
    <div style="display: flex; margin-bottom: 1rem;">
      <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
          <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
          <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
          <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
        </svg>
      </div>
      <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
        <p style="margin-top: 0; margin-bottom: 0.5rem;">我已为您找到符合条件的高精度伺服电机型号。您可以在右侧查看详细比较表格。</p>  



<div style="margin-top: 6px;">
  <button style="color: #1976d2;">复制</button>
  <button style="color: #1976d2;">删除</button>
</div>

      
      </div>
    </div>
  </div>
  






    
  <!-- 消息输入框 -->
  <div style="display: flex; align-items: center; margin-top: 0.5rem; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
    <input type="text" placeholder="输入信息..." style="flex-grow: 1; padding: 0.8rem 0.4rem; border: none; outline: none;">
      





<!-- 回形针文件上传按钮 -->
<button id="fileUploadButton" style="background-color: transparent; color: #64748b; border: none; padding: 0.4rem; display: flex; align-items: center; cursor: pointer; transition: color 0.2s ease;">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path>
  </svg>
</button>






<!-- 发送按钮 -->
    <button style="background-color: #2563eb; color: white; border: none; padding: 0.8rem 0.4rem; display: flex; align-items: center; cursor: pointer;">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="22" y1="2" x2="11" y2="13"></line>
        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
      </svg>
    </button>






<!-- New Charts 按钮 -->
<button style="background-color: #64748b; color: white; border: none; padding: 0.8rem 0.4rem; display: flex; align-items: center; cursor: pointer;">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 0.5rem;">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
    <polyline points="7 14 10 11 13 16 17 10"></polyline>
    <line x1="7" y1="10" x2="7" y2="14"></line>
  </svg>
</button>





<!-- History 按钮 -->
<button style="background-color: #64748b; color: white; border: none; padding: 0.8rem 0.4rem; display: flex; align-items: center; cursor: pointer;">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 0.5rem;">
    <circle cx="12" cy="12" r="10"></circle>
    <polyline points="12 6 12 12 16 14"></polyline>
  </svg>
</button>




  </div>
</div>




      


<!-- 添加隐藏的文件上传输入框 -->
<input type="file" id="fileUpload" accept=".csv,.xlsx,.xls" style="display: none;">



     










    <!-- 右侧结果展示区域 -->
<div style="flex: 2.5; background-color: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); display: flex; flex-direction: column; height: 100%;">


<!-- 搜索结果统计 -->
      <div style="padding: 0.8rem 1.2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e2e8f0;">
        <div>10 产品已找到</div>
        <div>

<button style="background-color: transparent; border: none; padding: 0.4rem; cursor: pointer;" title="下载">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
    <polyline points="7 10 12 15 17 10"></polyline>
    <line x1="12" y1="15" x2="12" y2="3"></line>
  </svg>
</button>


<button style="background-color: transparent; border: none; padding: 0.4rem; cursor: pointer;" title="右缩进">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
    <!-- 竖线表示左侧边界 -->
    <line x1="4" y1="4" x2="4" y2="20" />
    <!-- 右箭头 -->
    <polyline points="8,8 16,12 8,16" />
  </svg>
</button>


        </div>
      </div>
      
      <!-- 表格头部 - 固定在顶部 -->
<div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; background-color: #f8fafc; padding: 0.8rem 1.2rem; font-weight: 500; color: #000000; border-bottom: 1px solid #e2e8f0; font-size: 12px;">
  <div style="display: flex; justify-content: center; align-items: center;">
    <input type="checkbox" class="select-all-checkbox" style="width: 16px; height: 16px;">
  </div>
  <div style="text-align: left;">型号</div>
  <div style="text-align: center;">评级</div>
  <div style="text-align: center;">打分</div>
  <div style="text-align: left;">描述</div>
  <div style="text-align: left;">制造商</div>
</div>














<!-- 表格内容区域 - 可滚动 -->
<div style="flex-grow: 1; overflow-y: auto; font-size: 12px; max-height: calc(100% - 80px);">
  <!-- 表格行 - 第一行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('MR-J5-20G')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">MR-J5-20G</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">替换 DROP IN</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.98</span>
      </div>
    </div>
    <div style="text-align: left;">2.0kW AC伺服电机，23bit高精度编码器，支持EtherCAT通信，额定扭矩6.7Nm，最高转速3000rpm</div>
    <div style="text-align: left;">三菱电机</div>
  </div>

  <!-- 表格行 - 第二行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: #f9fafb; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('R88M-1M20030H-S2')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">R88M-1M20030H-S2</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">形配 FORM&FIT</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.95</span>
      </div>
    </div>
    <div style="text-align: left;">2.0kW伺服电机，20bit高分辨率编码器，支持EtherCAT协议，额定扭矩6.37Nm，适用于精密定位控制</div>
    <div style="text-align: left;">欧姆龙</div>
  </div>

  <!-- 表格行 - 第三行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('SBM-02VBD1-E')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">SBM-02VBD1-E</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.87</span>
      </div>
    </div>
    <div style="text-align: left;">2.0kW伺服电机，支持EtherCAT通信协议，额定扭矩6.4Nm，最高转速3000rpm，适合高精度定位系统</div>
    <div style="text-align: left;">安川电机</div>
  </div>



  <!-- 表格行 - 第四行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: #f9fafb; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('AKM22G-ACCNC-02')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">AKM22G-ACCNC-02</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.80</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.0kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.6Nm</div>
      <div style="margin-bottom: 4px;">编码器: 24bit高精度</div>
      <div style="margin-bottom: 4px;">通信: EtherCAT总线</div>
      <div>定位精度: ±0.001°</div>
    </div>
    <div style="text-align: left;">科尔摩根</div>
  </div>

  <!-- 表格行 - 第五行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('MS2N07-XXXXX')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">MS2N07-XXXXX</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.73</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.1kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.7Nm</div>
      <div style="margin-bottom: 4px;">电机类型: 同步伺服电机</div>
      <div style="margin-bottom: 4px;">通信: EtherCAT总线</div>
      <div>转速范围: 0-3000rpm</div>
    </div>
    <div style="text-align: left;">博世力士乐</div>
  </div>

  <!-- 表格行 - 第六行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: #f9fafb; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('SGM7G-20A')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">SGM7G-20A</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.71</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.0kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.37Nm</div>
      <div style="margin-bottom: 4px;">编码器: 23bit高分辨率</div>
      <div style="margin-bottom: 4px;">通信: EtherCAT</div>
      <div>最高转速: 2000rpm</div>
    </div>
    <div style="text-align: left;">安川电机</div>
  </div>

  <!-- 表格行 - 第七行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('1FK7063-5AF71')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">1FK7063-5AF71</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.69</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.0kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.4Nm</div>
      <div style="margin-bottom: 4px;">电机类型: 伺服电机</div>
      <div style="margin-bottom: 4px;">通信: PROFINET总线</div>
      <div>转速范围: 0-3000rpm</div>
    </div>
    <div style="text-align: left;">西门子</div>
  </div>

  <!-- 表格行 - 第八行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: #f9fafb; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('MHMD022G1U')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">MHMD022G1U</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.68</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.0kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.5Nm</div>
      <div style="margin-bottom: 4px;">编码器: 20bit增量式</div>
      <div style="margin-bottom: 4px;">通信: EtherCAT</div>
      <div>最高转速: 3000rpm</div>
    </div>
    <div style="text-align: left;">松下电器</div>
  </div>

  <!-- 表格行 - 第九行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('CMP80S/BP/KY/AZ')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">CMP80S/BP/KY/AZ</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.65</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.2kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.8Nm</div>
      <div style="margin-bottom: 4px;">电机类型: 永磁同步伺服</div>
      <div style="margin-bottom: 4px;">通信: 多种总线协议</div>
      <div>转速范围: 0-3500rpm</div>
    </div>
    <div style="text-align: left;">SEW</div>
  </div>

  <!-- 表格行 - 第十行 -->
  <div style="display: grid; grid-template-columns: 40px 1fr 1fr 1fr 2fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: #f9fafb; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;" onclick="showProductDetail('AKMH-22C-ABC-2E')">
    <div style="display: flex; justify-content: center; align-items: center;">
      <input type="checkbox" class="row-checkbox" style="width: 16px; height: 16px;">
    </div>
    <div style="text-align: left; font-weight: 500; color: #000000;">AKMH-22C-ABC-2E</div>
    <div style="font-weight: 500; color: #000000; text-align: center;">备选 ALTERNATIVE</div>
    <div style="text-align: center;">
      <div style="display: flex; align-items: center; justify-content: center;">
        <span style="font-weight: 600; color: #000000;">0.62</span>
      </div>
    </div>
    <div style="text-align: left;">
      <div style="margin-bottom: 4px; font-weight: 500;">额定功率: 2.0kW</div>
      <div style="margin-bottom: 4px;">额定扭矩: 6.5Nm</div>
      <div style="margin-bottom: 4px;">防护等级: IP67食品级</div>
      <div style="margin-bottom: 4px;">通信: EtherCAT</div>
      <div>应用场景: 高卫生要求场合</div>
    </div>
    <div style="text-align: left;">科尔摩根</div>
  </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div>

<!-- 产品详情模态框 -->
<div id="productDetailModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
  <div style="background-color: white; border-radius: 8px; width: 80%; max-width: 900px; max-height: 90vh; overflow-y: auto; padding: 1.5rem; position: relative;">
    <button onclick="closeProductDetail()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b;">×</button>
    
    <div id="productDetailContent">
      <!-- 内容将通过JavaScript动态填充 -->
    </div>
    
    <div style="display: flex; justify-content: flex-end; margin-top: 1.5rem; gap: 1rem;">
      <button onclick="closeProductDetail()" style="padding: 0.5rem 1rem; background-color: #e5e7eb; border: none; border-radius: 6px; cursor: pointer;">关闭</button>
      
      <button onclick="downloadProductDetail('${modelId}')" style="padding: 0.5rem 1rem; background-color: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">下载</button>
    </div>
  </div>
</div>





<!-- 添加比较视图模态框 -->
<div id="compareModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
  <div style="background-color: white; border-radius: 8px; width: 90%; max-width: 1000px; max-height: 90vh; overflow-y: auto; padding: 1.5rem; position: relative;">
    <button onclick="closeCompareView()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b;">×</button>
    
    <h2 style="margin-bottom: 1rem; color: #2563eb; font-size: 1.25rem;">产品比较</h2>
    
    <div id="compareContent">
      <!-- 内容将通过JavaScript动态填充 -->
    </div>
    
    <div style="display: flex; justify-content: flex-end; margin-top: 1.5rem; gap: 1rem;">
      <button onclick="closeCompareView()" style="padding: 0.5rem 1rem; background-color: #e5e7eb; border: none; border-radius: 6px; cursor: pointer;">关闭</button>
      <button onclick="downloadComparisonContent()" style="padding: 0.5rem 1rem; background-color: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">下载</button>
    </div>
  </div>


</div>
</div>
</div>
</div>













<!--------JS交互部分内容------->

<script>
  // 角色切换
  document.querySelectorAll('.role-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      // 移除所有活动状态
      document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.role-content').forEach(c => c.classList.remove('active'));
      // 设置当前活动状态
      tab.classList.add('active');
      const role = tab.getAttribute('data-role');
      document.getElementById(role).classList.add('active');
    });
  });
  
  // 旅程阶段切换
  document.querySelectorAll('.stage').forEach(stage => {
    stage.addEventListener('click', () => {
      const parent = stage.closest('.journey-map');
      const parentContent = parent.closest('.role-content');
      // 移除父容器内的所有活动状态
      parent.querySelectorAll('.stage').forEach(s => s.classList.remove('active'));
      parentContent.querySelectorAll('.stage-details').forEach(d => d.classList.remove('active'));
      // 设置当前活动状态
      stage.classList.add('active');
      const stageId = stage.getAttribute('data-stage');
      const detailsElement = parentContent.querySelector(`#${stageId}-details`);
      if (detailsElement) {
        detailsElement.classList.add('active');
      }
    });
  });
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // 初始化功能演示选项卡
  const firstTab = document.querySelector('.demo-tab');
  if(firstTab) {
    firstTab.classList.add('active');
    const firstContentId = firstTab.dataset.tab + '-content';
    const firstContent = document.getElementById(firstContentId);
    if(firstContent) {
      firstContent.style.display = 'block';
    }
  }

  // 功能演示选项卡切换
  document.querySelectorAll('.demo-tab').forEach(tab => {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.demo-tab').forEach(t => {
        t.classList.remove('active');
        t.style.backgroundColor = 'white';
        t.style.color = 'var(--primary)';
      });
      
      this.classList.add('active');
      this.style.backgroundColor = 'var(--primary)';
      this.style.color = 'white';
      
      document.querySelectorAll('.demo-content').forEach(content => {
        content.style.display = 'none';
      });
      
      const targetContent = document.getElementById(this.dataset.tab + '-content');
      if (targetContent) {
        targetContent.style.display = 'block';
      }
    });
  });

  // 约束条件查询交互功能
  setupConstraintQueryInteraction();
});

// 约束条件查询交互功能设置
function setupConstraintQueryInteraction() {
  const constraintQuerySection = document.getElementById('constraint-query-content');
  if (!constraintQuerySection) return;

  
  // 获取具体的比较和咨询按钮 - 使用更精确的选择器
  const buttonContainer = constraintQuerySection.querySelector('#core-features > div > div:last-child');
  if (!buttonContainer) return;

  const compareButton = buttonContainer.querySelector('button:nth-child(1)');
  const chatButton = buttonContainer.querySelector('button:nth-child(2)');
  
  // 获取消息容器
  const messagesContainer = constraintQuerySection.querySelector('#core-features > div:nth-child(2) > div:first-child > div:first-child');
  
  // 获取消息输入框
  const messageInput = constraintQuerySection.querySelector('input[type="text"]');
  if (!messageInput) return;
  


 const sendButton = constraintQuerySection.querySelector('button[style*="background-color: #2563eb"][style*="padding: 0.8rem 1.2rem"]');

  
  // 获取复选框
  const checkboxes = constraintQuerySection.querySelectorAll('input[type="checkbox"]');
  
  // 发送消息功能
  function sendMessage() {
    if (!messageInput.value.trim()) return;
    
    // 创建用户消息元素
    const userMessageHTML = `
      <div style="display: flex; margin-bottom: 1rem; justify-content: flex-end;">
        <div style="background-color: #eef2ff; padding: 1rem; border-radius: 8px; max-width: 80%;">
          <p style="margin: 0;">${messageInput.value}</p>
        </div>
        <div style="width: 36px; height: 36px; background-color: #e2e8f0; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-left: 0.8rem; flex-shrink: 0; color: #334155;">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
    `;
    
    // 添加到消息容器
    if (messagesContainer) {
      messagesContainer.insertAdjacentHTML('beforeend', userMessageHTML);
      
      // 显示AI思考状态
      const thinkingHTML = `
        <div class="ai-thinking" style="display: flex; margin-bottom: 1rem;">
          <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
              <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
              <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
              <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
            </svg>
          </div>
          <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
            <p style="margin: 0;">正在思考...</p>
            <div class="typing-indicator" style="display: flex; margin-top: 8px;">
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; margin-right: 4px; animation: pulse 1s infinite;"></div>
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; margin-right: 4px; animation: pulse 1s infinite 0.2s;"></div>
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; animation: pulse 1s infinite 0.4s;"></div>
            </div>
          </div>
        </div>
      `;
      
      messagesContainer.insertAdjacentHTML('beforeend', thinkingHTML);
      
      // 滚动到底部
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
      
      // 模拟AI响应（1.5秒后）
      setTimeout(() => {
        // 移除思考状态
        const thinkingElement = messagesContainer.querySelector('.ai-thinking');
        if (thinkingElement) {
          thinkingElement.remove();
        }
        
        // 创建AI响应
        const aiResponseHTML = `
          <div style="display: flex; margin-bottom: 1rem;">
            <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
                <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
                <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
                <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
              </svg>
            </div>
            <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
              <p style="margin-top: 0; margin-bottom: 0.5rem;">我已将您的新需求纳入考虑，并更新了结果列表。请查看右侧的匹配产品。</p>
              <p style="margin-bottom: 0;">您还有其他要求或问题吗？</p>
            </div>
          </div>
        `;
        
        messagesContainer.insertAdjacentHTML('beforeend', aiResponseHTML);
        
        // 滚动到底部
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        // 清空输入框
        messageInput.value = '';
      }, 1500);
    }
  }
  
  // 添加发送消息事件监听器
  if (sendButton) {
    sendButton.addEventListener('click', sendMessage);
  }
  
  if (messageInput) {
    messageInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
  }
  
  // 为复选框添加点击事件
  checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', function() {
      const row = this.closest('div[style*="display: grid"]');
      if (row) {
        if (this.checked) {
          row.style.borderLeft = '3px solid #2563eb';
          row.style.backgroundColor = '#f0f7ff';
        } else {
          row.style.borderLeft = '';
          const isEvenRow = Array.from(row.parentNode.children).indexOf(row) % 2 === 1;
          row.style.backgroundColor = isEvenRow ? '#f9fafb' : '';
        }
      }
      
      // 更新已选择数量
      const selectedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
      if (compareButton) {
        compareButton.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          比较${selectedCount > 0 ? ` (${selectedCount})` : ''}
        `;
      }
    });
  });
  
  // 添加比较按钮功能
  if (compareButton) {
    compareButton.addEventListener('click', function() {
      const selectedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
      if (selectedCount < 2) {
        alert('请至少选择2个产品进行比较');
        return;
      }
      
      // 获取选中型号
      const selectedModels = Array.from(checkboxes)
        .filter(cb => cb.checked)
        .map(cb => {
          const row = cb.closest('div[style*="display: grid"]');
          return row ? row.querySelector('div:nth-child(2)').textContent : '';
        })
        .filter(Boolean);
      
      if (messagesContainer) {
        const compareMessageHTML = `
          <div style="display: flex; margin-bottom: 1rem;">
            <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
                <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
                <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
                <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
              </svg>
            </div>
            <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
              <p style="margin-top: 0; margin-bottom: 0.5rem;">我已为您创建了比较视图，对比了以下型号:</p>
              <p style="margin-bottom: 0.5rem; font-weight: 500;">${selectedModels.join(', ')}</p>
              <p style="margin-bottom: 0;">以下是这些型号的主要参数对比，您可以清楚地看到它们在性能和功能上的差异。</p>
              <div style="margin-top: 1rem; padding: 0.5rem; background-color: #edf2f7; border-radius: 4px;">
                <div style="font-weight: 500; color: #2563eb; margin-bottom: 0.5rem;">推荐选择:</div>
                <div>如果您注重性价比，推荐选择${selectedModels[0]}；如果您追求高性能，${selectedModels[selectedModels.length-1]}可能更适合您。</div>
              </div>
            </div>
          </div>
        `;
        
        messagesContainer.insertAdjacentHTML('beforeend', compareMessageHTML);
        
        // 滚动到底部
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
    });
  }
  
  // 添加咨询按钮功能
  if (chatButton) {
    chatButton.addEventListener('click', function() {
      const selectedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
      if (selectedCount === 0) {
        alert('请至少选择1个产品进行咨询');
        return;
      }
      
      // 获取选中型号
      const selectedModels = Array.from(checkboxes)
        .filter(cb => cb.checked)
        .map(cb => {
          const row = cb.closest('div[style*="display: grid"]');
          return row ? row.querySelector('div:nth-child(2)').textContent : '';
        })
        .filter(Boolean);
      
      if (messagesContainer) {
                // 显示系统消息：正在连接客服
        const systemMessageHTML = `
          <div style="display: flex; justify-content: center; margin-bottom: 1rem;">
            <div style="background-color: #f1f5f9; padding: 0.5rem 1rem; border-radius: 999px; font-size: 0.875rem; color: #64748b;">
              正在连接客服，请稍候...
            </div>
          </div>
        `;
        
        messagesContainer.insertAdjacentHTML('beforeend', systemMessageHTML);
        
        // 模拟客服响应（1秒后）
        setTimeout(() => {
          const customerServiceHTML = `
            <div style="display: flex; margin-bottom: 1rem;">
              <div style="width: 36px; height: 36px; background-color: #10b981; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path>
                </svg>
              </div>
              <div style="background-color: #f0fdf4; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
                <p style="margin-top: 0; margin-bottom: 0.5rem; font-weight: 500;">您好，我是产品顾问LISA，很高兴为您服务！</p>
                <p style="margin-bottom: 0.5rem;">我看到您对以下产品感兴趣：</p>
                <p style="margin-bottom: 0.5rem; font-weight: 500;">${selectedModels.join(', ')}</p>
                <p style="margin-bottom: 0;">您想了解关于这些产品的哪些具体信息呢？例如价格、交期、库存。</p>
              </div>
            </div>
          `;
          
          messagesContainer.insertAdjacentHTML('beforeend', customerServiceHTML);
          
          // 滚动到底部
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
          
          // 聚焦输入框，提示用户可以输入
          if (messageInput) {
            messageInput.focus();
            messageInput.setAttribute('placeholder', '请输入您的问题...');
          }
        }, 1000);
      }
    });
  }
}

</script>







<style>
@keyframes pulse {
  0% { transform: scale(0.8); opacity: 0.5; }
  50% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0.8); opacity: 0.5; }
}
</style>







<script>
// 产品详情数据库
const productDetails = {
  'MR-J5-20G': {
    title: 'MR-J5-20G 三菱电机高精度伺服电机',
    manufacturer: '三菱电机',
    rating: '替换 DROP IN',
    score: '0.98',
    image: 'https://via.placeholder.com/400x300?text=MR-J5-20G',
    description: '三菱电机MR-J5系列AC伺服电机，采用最新技术提供卓越的性能和可靠性。适用于需要高精度运动控制的工业自动化应用。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.7 Nm' },
      { name: '峰值扭矩', value: '20.1 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '23 bit (8,388,608 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, CC-Link IE TSN' },
      { name: '响应频率', value: '2.5 kHz' },
      { name: '防护等级', value: 'IP67 (轴封)' },
      { name: '工作温度', value: '-10°C ~ +55°C' },
      { name: '尺寸 (W×H×D)', value: '60×60×180 mm' },
      { name: '重量', value: '4.8 kg' }
    ],
    features: [
      '领先业界的高精度编码器，提供出色的定位精度',
      '先进的振动抑制功能，实现平稳运行',
      '内置自动调谐功能，简化系统设置',
      '支持多种工业通信协议，易于与现有系统集成',
      '紧凑设计，优化机器空间利用率'
    ],
    applications: [
      '高精度定位系统',
      '半导体制造设备',
      'CNC加工中心',
      '包装机械',
      '机器人关节'
    ],
    certifications: ['CE', 'UL', 'RoHS', 'KC']
  },
  'R88M-1M20030H-S2': {
    title: 'R88M-1M20030H-S2 欧姆龙高性能伺服电机',
    manufacturer: '欧姆龙',
    rating: '形配 FORM&FIT',
    score: '0.95',
    image: 'https://via.placeholder.com/400x300?text=R88M-1M20030H-S2',
    description: '欧姆龙R88M系列伺服电机，提供出色的速度响应和定位精度，特别适合要求高动态性能的应用。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.37 Nm' },
      { name: '峰值扭矩', value: '19.1 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '20 bit (1,048,576 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, EtherNet/IP' },
      { name: '响应频率', value: '2.2 kHz' },
      { name: '防护等级', value: 'IP65 (轴封)' },
      { name: '工作温度', value: '-5°C ~ +50°C' },
      { name: '尺寸 (W×H×D)', value: '60×60×175 mm' },
      { name: '重量', value: '4.6 kg' }
    ],
    features: [
      '高响应速度特性，适用于高动态应用',
      '先进的过载保护功能，确保长期可靠运行',
      '免维护设计，降低拥有成本',
      '低温升设计，允许高负载连续运行',
      '兼容多种驱动器系列'
    ],
    applications: [
      '精密定位控制',
      '食品包装设备',
      '印刷机械',
      '纺织机械',
      '传送系统'
    ],
    certifications: ['CE', 'UL', 'CSA', 'RoHS']
  },
  'SBM-02VBD1-E': {
    title: 'SBM-02VBD1-E 安川电机伺服电机',
    manufacturer: '安川电机',
    rating: '备选 ALTERNATIVE',
    score: '0.87',
    image: 'https://via.placeholder.com/400x300?text=SBM-02VBD1-E',
    description: '安川电机SBM系列伺服电机，结合高可靠性和出色性能，为工业自动化应用提供理想解决方案。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.4 Nm' },
      { name: '峰值扭矩', value: '19.2 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '22 bit (4,194,304 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, MECHATROLINK-III' },
      { name: '响应频率', value: '2.1 kHz' },
      { name: '防护等级', value: 'IP65 (轴封)' },
      { name: '工作温度', value: '-5°C ~ +45°C' },
      { name: '尺寸 (W×H×D)', value: '60×60×185 mm' },
      { name: '重量', value: '4.9 kg' }
    ],
    features: [
      '出色的低速平稳性能，适合精密控制',
      '低振动设计，减少系统共振',
      '高过载能力，应对瞬态负载',
      '改进的热管理系统，提高可靠性',
      '节能设计，降低运行成本'
    ],
    applications: [
      '高精度定位系统',
      '电子组装设备',
      '材料处理',
      '激光切割机',
      '注塑机'
    ],
    certifications: ['CE', 'UL', 'KC', 'RoHS']
  },
 'AKM22G-ACCNC-02': {
    title: 'AKM22G-ACCNC-02 科尔摩根高精度伺服电机',
    manufacturer: '科尔摩根',
    rating: '备选 ALTERNATIVE',
    score: '0.80',
    image: 'https://via.placeholder.com/400x300?text=AKM22G-ACCNC-02',
    description: '科尔摩根AKM系列永磁同步伺服电机，采用先进的设计和材料，提供卓越的动态性能和精确控制，适用于要求高精度定位的应用场景。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.6 Nm' },
      { name: '峰值扭矩', value: '19.8 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '24 bit (16,777,216 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, PROFINET, Modbus' },
      { name: '响应频率', value: '2.3 kHz' },
      { name: '防护等级', value: 'IP65 (轴封)' },
      { name: '工作温度', value: '-20°C ~ +40°C' },
      { name: '尺寸 (W×H×D)', value: '63×63×175 mm' },
      { name: '重量', value: '4.5 kg' }
    ],
    features: [
      '超高分辨率24位编码器，定位精度±0.001°',
      '无刷电机设计，免维护运行',
      '适应广泛的温度范围，适合恶劣环境',
      '高转矩密度设计，体积紧凑',
      '特殊绕组设计，提供出色的低速扭矩性能'
    ],
    applications: [
      '高精度定位系统',
      '医疗设备',
      '半导体制造设备',
      '印刷和包装机械',
      '机器人关节'
    ],
    certifications: ['CE', 'UL', 'RoHS', 'ISO 9001']
  },
  
  // 添加MS2N07-XXXXX型号详情
  'MS2N07-XXXXX': {
    title: 'MS2N07-XXXXX 博世力士乐同步伺服电机',
    manufacturer: '博世力士乐',
    rating: '备选 ALTERNATIVE',
    score: '0.73',
    image: 'https://via.placeholder.com/400x300?text=MS2N07-XXXXX',
    description: '博世力士乐MS2N系列同步伺服电机，采用紧凑设计，提供高性能和可靠性，适用于各种工业自动化应用。',
    specifications: [
      { name: '额定功率', value: '2.1 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.7 Nm' },
      { name: '峰值扭矩', value: '20.1 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '21 bit (2,097,152 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, SERCOS III' },
      { name: '响应频率', value: '2.0 kHz' },
      { name: '防护等级', value: 'IP65 (标准)' },
      { name: '工作温度', value: '-15°C ~ +40°C' },
      { name: '尺寸 (W×H×D)', value: '65×65×185 mm' },
      { name: '重量', value: '5.0 kg' }
    ],
    features: [
      '出色的温度管理，确保持续高性能',
      '优化的电磁设计，减少损耗',
      '先进的阻尼技术，减少振动和噪音',
      '模块化设计，易于安装和维护',
      '多种反馈选项，适应不同精度需求'
    ],
    applications: [
      '精密定位控制',
      '注塑机械',
      '金属加工设备',
      '包装机械',
      'AGV自动导引车'
    ],
    certifications: ['CE', 'UL', 'CSA', 'RoHS', 'EAC']
  },
  
  // 添加SGM7G-20A型号详情
  'SGM7G-20A': {
    title: 'SGM7G-20A 安川电机伺服电机',
    manufacturer: '安川电机',
    rating: '备选 ALTERNATIVE',
    score: '0.71',
    image: 'https://via.placeholder.com/400x300?text=SGM7G-20A',
    description: '安川电机SGM7G系列伺服电机，采用高密度绕组和优化磁路设计，提供出色的扭矩性能和可靠性，特别适合空间受限的应用。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '2000 rpm' },
      { name: '额定扭矩', value: '6.37 Nm' },
      { name: '峰值扭矩', value: '19.1 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '23 bit (8,388,608 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, MECHATROLINK-III' },
      { name: '响应频率', value: '1.8 kHz' },
      { name: '防护等级', value: 'IP67 (全机)' },
      { name: '工作温度', value: '-10°C ~ +50°C' },
      { name: '尺寸 (W×H×D)', value: '60×60×170 mm' },
      { name: '重量', value: '4.7 kg' }
    ],
    features: [
      '23位高精度编码器，提供精确的位置反馈',
      '高防护等级设计，适合恶劣工业环境',
      '先进的振动抑制算法，提高机械系统稳定性',
      '紧凑型设计，减少设备占地面积',
      '适合高负载应用的优化热设计'
    ],
    applications: [
      '高精度定位系统',
      '食品加工设备',
      '纺织机械',
      '电子组装设备',
      '送料系统'
    ],
    certifications: ['CE', 'UL', 'KC', 'RoHS', 'CCC']
  },
  
  // 添加1FK7063-5AF71型号详情
  '1FK7063-5AF71': {
    title: '1FK7063-5AF71 西门子伺服电机',
    manufacturer: '西门子',
    rating: '备选 ALTERNATIVE',
    score: '0.69',
    image: 'https://via.placeholder.com/400x300?text=1FK7063-5AF71',
    description: '西门子1FK7系列永磁同步伺服电机，提供可靠的性能和高精度控制，易于集成到西门子自动化系统中，适用于多种工业应用。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.4 Nm' },
      { name: '峰值扭矩', value: '19.2 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '22 bit (4,194,304 p/rev)' },
      { name: '通信协议', value: 'PROFINET, PROFIBUS' },
      { name: '响应频率', value: '1.9 kHz' },
      { name: '防护等级', value: 'IP64 (标准)' },
      { name: '工作温度', value: '-15°C ~ +40°C' },
      { name: '尺寸 (W×H×D)', value: '65×65×180 mm' },
      { name: '重量', value: '5.1 kg' }
    ],
    features: [
      '与西门子驱动和控制系统无缝集成',
      '出色的过载能力，适应变化负载',
      '优化的冷却设计，允许高功率密度',
      '低惯量转子设计，提供快速动态响应',
      '广泛的安装选项，适应不同机械接口'
    ],
    applications: [
      '精密运动控制',
      '自动化生产线',
      '材料处理系统',
      '包装和印刷设备',
      '机床和加工中心'
    ],
    certifications: ['CE', 'UL', 'CCC', 'RoHS', 'EAC']
  },
  
  // 添加MHMD022G1U型号详情
  'MHMD022G1U': {
    title: 'MHMD022G1U 松下电器伺服电机',
    manufacturer: '松下电器',
    rating: '备选 ALTERNATIVE',
    score: '0.68',
    image: 'https://via.placeholder.com/400x300?text=MHMD022G1U',
    description: '松下MHMD系列伺服电机，结合紧凑设计和高性能特性，提供可靠运行和精确控制，适用于空间有限的精密应用。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.5 Nm' },
      { name: '峰值扭矩', value: '16.25 Nm（2.5倍额定）' },
      { name: '编码器分辨率', value: '20 bit (1,048,576 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, Realtime Express' },
      { name: '响应频率', value: '2.0 kHz' },
      { name: '防护等级', value: 'IP65 (轴封)' },
      { name: '工作温度', value: '-5°C ~ +55°C' },
      { name: '尺寸 (W×H×D)', value: '60×60×170 mm' },
      { name: '重量', value: '4.5 kg' }
    ],
    features: [
      '增量式编码器提供高精度位置反馈',
      '紧凑设计，适合空间受限应用',
      '低噪音运行，适合安静工作环境',
      '高加速性能，适合快速启停应用',
      '广泛的温度工作范围'
    ],
    applications: [
      '半导体制造设备',
      '精密组装机器',
      '包装设备',
      '医疗设备',
      '小型机械手'
    ],
    certifications: ['CE', 'UL', 'CCC', 'RoHS', 'KC']
  },
  
  // 添加CMP80S/BP/KY/AZ型号详情
  'CMP80S/BP/KY/AZ': {
    title: 'CMP80S/BP/KY/AZ SEW永磁同步伺服电机',
    manufacturer: 'SEW',
    rating: '备选 ALTERNATIVE',
    score: '0.65',
    image: 'https://via.placeholder.com/400x300?text=CMP80S/BP/KY/AZ',
    description: 'SEW-EURODRIVE CMP系列永磁同步伺服电机，提供高动态性能和精确控制，适用于各种要求严格的工业应用。',
    specifications: [
      { name: '额定功率', value: '2.2 kW' },
      { name: '额定转速', value: '3500 rpm' },
      { name: '额定扭矩', value: '6.8 Nm' },
      { name: '峰值扭矩', value: '23.8 Nm（3.5倍额定）' },
      { name: '编码器分辨率', value: '20 bit (1,048,576 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, PROFINET, EtherNet/IP' },
      { name: '响应频率', value: '1.9 kHz' },
      { name: '防护等级', value: 'IP65 (标准)' },
      { name: '工作温度', value: '-20°C ~ +40°C' },
      { name: '尺寸 (W×H×D)', value: '80×80×190 mm' },
      { name: '重量', value: '5.3 kg' }
    ],
    features: [
      '高转速能力，提供优越的动态性能',
      '支持多种现场总线协议，灵活集成',
      '高过载能力，应对动态负载变化',
      '模块化设计，易于维护和升级',
      '丰富的制动和反馈选项'
    ],
    applications: [
      '物料搬运系统',
      '包装机械',
      '印刷设备',
      '木工机械',
      '输送系统'
    ],
    certifications: ['CE', 'UL', 'CSA', 'RoHS', 'CCC']
  },
  
  // 添加AKMH-22C-ABC-2E型号详情
  'AKMH-22C-ABC-2E': {
    title: 'AKMH-22C-ABC-2E 科尔摩根食品级伺服电机',
    manufacturer: '科尔摩根',
    rating: '备选 ALTERNATIVE',
    score: '0.62',
    image: 'https://via.placeholder.com/400x300?text=AKMH-22C-ABC-2E',
    description: '科尔摩根AKMH系列不锈钢伺服电机，专为食品和制药行业设计，提供高防护等级和卫生设计，满足严格的清洁要求。',
    specifications: [
      { name: '额定功率', value: '2.0 kW' },
      { name: '额定转速', value: '3000 rpm' },
      { name: '额定扭矩', value: '6.5 Nm' },
      { name: '峰值扭矩', value: '19.5 Nm（3倍额定）' },
      { name: '编码器分辨率', value: '20 bit (1,048,576 p/rev)' },
      { name: '通信协议', value: 'EtherCAT, PROFINET' },
      { name: '响应频率', value: '1.8 kHz' },
      { name: '防护等级', value: 'IP67/IP69K (全机)' },
      { name: '工作温度', value: '-10°C ~ +40°C' },
      { name: '尺寸 (W×H×D)', value: '70×70×190 mm' },
      { name: '重量', value: '5.5 kg' }
    ],
    features: [
      '304不锈钢外壳，耐腐蚀设计',
      'IP69K高防护等级，可承受高压冲洗',
      '无外部缝隙设计，防止细菌积累',
      '食品级润滑剂，符合FDA标准',
      '耐清洁剂和消毒剂材料'
    ],
    applications: [
      '食品加工设备',
      '制药生产线',
      '乳制品加工',
      '饮料灌装机',
      '洁净室自动化'
    ],
    certifications: ['CE', 'UL', 'FDA', 'EHEDG', 'RoHS', 'IP69K']
  }
}; 




// 显示产品详情
function showProductDetail(modelId) {
  // 防止复选框点击事件冒泡触发产品详情
  event.target.tagName === 'INPUT' ? event.stopPropagation() : null;
  
  const product = productDetails[modelId];
  if (!product) {
    alert('产品详情暂未提供');
    return;
  }
  
  const content = document.getElementById('productDetailContent');
  
  content.innerHTML = `



    <div style="display: flex; flex-wrap: wrap; gap: 2rem; margin-bottom: 1.5rem;">
      <div style="flex: 1; min-width: 300px;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem;">${product.title}</h2>
        <div style="margin-bottom: 1rem;">
          <span style="display: inline-block; padding: 0.3rem 0.6rem; background-color: #eef2ff; color: #2563eb; border-radius: 4px; font-size: 0.8rem; font-weight: 600; margin-right: 0.5rem;">${product.rating}</span>
          <span style="display: inline-block; padding: 0.3rem 0.6rem; background-color: #ecfdf5; color: #059669; border-radius: 4px; font-size: 0.8rem; font-weight: 600;">匹配度: ${product.score}</span>
        </div>
        <p style="color: #4b5563; line-height: 1.6; margin-bottom: 1.5rem;">${product.description}</p>
        
        <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; color: #111827;">主要特点</h3>
        <ul style="list-style-type: disc; padding-left: 1.2rem; margin-bottom: 1.5rem;">
          ${product.features.map(feature => `<li style="margin-bottom: 0.5rem; color: #4b5563;">${feature}</li>`).join('')}
        </ul>
        
        <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; color: #111827;">应用场景</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem;">
          ${product.applications.map(app => `<span style="display: inline-block; padding: 0.3rem 0.6rem; background-color: #f3f4f6; color: #4b5563; border-radius: 4px; font-size: 0.8rem;">${app}</span>`).join('')}
        </div>
        
        <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; color: #111827;">认证</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
          ${product.certifications.map(cert => `<span style="display: inline-block; padding: 0.3rem 0.6rem; background-color: #f3f4f6; color: #4b5563; border-radius: 4px; font-size: 0.8rem;">${cert}</span>`).join('')}
        </div>
      </div>
      
      <div style="flex: 1; min-width: 300px;">
        <div style="background-color: #f9fafb; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
          <img src="${product.image}" alt="${product.title}" style="width: 100%; border-radius: 4px; margin-bottom: 1rem;">
          <div style="font-weight: 600; color: #111827; margin-bottom: 0.5rem;">制造商</div>
          <div style="color: #4b5563; margin-bottom: 1rem;">${product.manufacturer}</div>
          
        </div>
      </div>
    </div>
    
    <h3 style="font-size: 1.2rem; margin-bottom: 1rem; color: #111827; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.5rem;">技术规格</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
      ${product.specifications.map(spec => `
        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f3f4f6;">
          <div style="color: #6b7280; font-weight: 500;">${spec.name}</div>
          <div style="color: #111827; font-weight: 500;">${spec.value}</div>
        </div>
      `).join('')}
    </div>
  `;
  
  document.getElementById('productDetailModal').style.display = 'flex';
  document.body.style.overflow = 'hidden'; // 防止背景滚动
}

// 关闭产品详情
function closeProductDetail() {
  document.getElementById('productDetailModal').style.display = 'none';
  document.body.style.overflow = ''; // 恢复背景滚动
}

// 防止复选框点击冒泡触发详情页面
document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
  checkbox.addEventListener('click', (e) => {
    e.stopPropagation();
  });
});































// 下载产品详情函数
function downloadProductDetail(modelId) {
  const product = productDetails[modelId];
  if (!product) {
    alert('产品详情不可用');
    return;
  }
  
  // 创建HTML文档
  const htmlContent = `
    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${product.title} - 产品详情</title>
      <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; color: #334155; }
        h1 { color: #2563eb; font-size: 24px; margin-bottom: 20px; }
        h2 { color: #334155; font-size: 20px; margin-bottom: 15px; }
        .tag { display: inline-block; padding: 5px 10px; border-radius: 4px; font-size: 12px; margin-right: 10px; }
        .header { margin-bottom: 30px; }
        .specs { margin: 20px 0; }
        .specs table { width: 100%; border-collapse: collapse; }
        .specs th, .specs td { padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: left; }
        .specs th { background-color: #f8fafc; font-weight: 600; }
        .feature-list { margin: 20px 0; }
        .feature-list li { margin-bottom: 10px; }
        .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #64748b; }
        img { max-width: 100%; height: auto; border-radius: 8px; }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>${product.title}</h1>
        <span class="tag" style="background-color: #eef2ff; color: #2563eb;">${product.rating}</span>
        <span class="tag" style="background-color: #ecfdf5; color: #059669;">匹配度: ${product.score}</span>
        
        <p style="margin-top: 15px;">${product.description}</p>
        <p style="margin-top: 10px;"><strong>制造商:</strong> ${product.manufacturer}</p>
      </div>
      
      <h2>产品图片</h2>
      <img src="${product.image}" alt="${product.title}" style="max-width: 400px; margin-bottom: 20px;">
      
      <h2>技术规格</h2>
      <div class="specs">
        <table>
          <thead>
            <tr>
              <th style="width: 40%;">参数</th>
              <th>值</th>
            </tr>
          </thead>
          <tbody>
            ${product.specifications.map(spec => `
              <tr>
                <td>${spec.name}</td>
                <td>${spec.value}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      </div>
      
      <h2>主要特点</h2>
      <ul class="feature-list">
        ${product.features.map(feature => `<li>${feature}</li>`).join('')}
      </ul>
      
      <h2>适用场景</h2>
      <div style="margin: 15px 0;">
        ${product.applications.map(app => `
          <span class="tag" style="background-color: #f3f4f6; color: #4b5563;">${app}</span>
        `).join(' ')}
      </div>
      
      <h2>认证</h2>
      <div style="margin: 15px 0;">
        ${product.certifications.map(cert => `
          <span class="tag" style="background-color: #f3f4f6; color: #4b5563;">${cert}</span>
        `).join(' ')}
      </div>
      
      <div class="footer">
        <p>由秒寻 - AI驱动的工业元器件选型助手生成</p>
        <p>生成日期: ${new Date().toLocaleDateString()}</p>
      </div>
    </body>
    </html>
  `;
  
  // 创建Blob对象
  const blob = new Blob([htmlContent], { type: 'text/html' });
  
  // 创建下载链接
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `${product.manufacturer}_${modelId}_产品详情.html`;
  
  // 触发下载
  document.body.appendChild(a);
  a.click();
  
  // 清理
  document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}



















</script>


<style>
/* 表格行悬停样式 */
div[style*="display: grid"] {
  transition: background-color 0.2s ease;
}

div[style*="display: grid"]:hover {
  background-color: #f0f9ff !important;
  border-left: 4px solid #2563eb !important;
}

/* 确保鼠标悬停时显示为指针 */
div[style*="display: grid"] {
  cursor: pointer;
}

/* 复选框鼠标样式保持默认 */
div[style*="display: grid"] input[type="checkbox"] {
  cursor: default;
}

/* 模态框动画效果 */
#productDetailModal {
  opacity: 0;
  transition: opacity 0.3s ease;
}

#productDetailModal[style*="display: flex"] {
  opacity: 1;
}

/* 模态框内容区域动画 */
#productDetailModal > div {
  transform: translateY(20px);
  transition: transform 0.3s ease;
}

#productDetailModal[style*="display: flex"] > div {
  transform: translateY(0);
}

/* 按钮悬停效果 */
button {
  transition: all 0.2s ease;
}

button:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

/* 模态框内的图片效果 */
#productDetailContent img {
  transition: transform 0.3s ease;
}

#productDetailContent img:hover {
  transform: scale(1.02);
}

/* 移动端适配 */
@media (max-width: 768px) {
  #productDetailModal > div {
    width: 95%;
    max-width: 95%;
  }
  
  #productDetailContent div[style*="display: flex"] {
    flex-direction: column;
  }
}
</style>







<script>
// 全局变量，用于存储当前比较的产品
let currentComparedProducts = [];









// 生成比较视图内容 - 矩阵式布局
function generateCompareView(productIds) {
  currentComparedProducts = productIds;
  const products = productIds.map(id => productDetails[id]).filter(Boolean);
  
  if (products.length < 2) {
    return '<p>没有足够的产品进行比较</p>';
  }
  
  // 获取所有规格参数名称
  const allSpecs = [];
  products.forEach(product => {
    product.specifications.forEach(spec => {
      if (!allSpecs.includes(spec.name)) {
        allSpecs.push(spec.name);
      }
    });
  });
  









// 生成矩阵式比较表格
let tableHTML = `
  <div style="margin-bottom: 2rem;">
    <h3 style="margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">产品参数对比</h3>
    <div style="overflow-x: auto;">
      <table style="width: 100%; border-collapse: collapse; text-align: left; font-size: 14px;">
        <thead>
          <tr style="background-color: #f8fafc; border-bottom: 2px solid #e2e8f0;">
            <th style="padding: 12px 16px; min-width: 150px; font-weight: 600;">参数</th>
`;

// 添加产品列标题
products.forEach(product => {
  tableHTML += `
    <th style="padding: 12px 16px; min-width: 180px; text-align: center; font-weight: 600; border-left: 1px solid #e2e8f0;">
      <div style="font-size: 15px;">${product.title.split(' ')[0]}</div>
      <div style="font-size: 13px; color: #64748b; margin-top: 4px;">${product.manufacturer}</div>
      <div style="font-size: 13px; color: #2563eb; margin-top: 4px; font-weight: 600;">(${product.score})</div>
    </th>
  `;
});

tableHTML += `
        </tr>
      </thead>
      <tbody>
`;

// 生成规格参数比较行
allSpecs.forEach((specName, index) => {
  const isEvenRow = index % 2 === 0;
  tableHTML += `
    <tr style="border-bottom: 1px solid #e2e8f0; background-color: ${isEvenRow ? 'white' : '#f9fafb'};">
      <td style="padding: 10px 16px; font-weight: 500; color: #334155;">${specName}</td>
  `;
  
  // 为每个产品添加参数值，并根据差异添加颜色
  const specValues = products.map(product => {
    const spec = product.specifications.find(s => s.name === specName);
    return spec ? spec.value : 'N/A';
  });
  
  // 检测是否有差异
  const hasDifference = new Set(specValues.filter(v => v !== 'N/A')).size > 1;
  
  // 为每个产品添加参数值单元格
  specValues.forEach((value, index) => {
    let cellStyle = 'padding: 10px 16px; text-align: center; border-left: 1px solid #e2e8f0;';
    
    // 根据参数性质和值的差异添加颜色标识
    if (hasDifference) {
      // 对于数值型参数，判断是否是最优值
      if (specName.includes('功率') || specName.includes('扭矩') || 
          specName.includes('转速') || specName.includes('分辨率')) {
        
        // 提取数字部分进行比较
        const numbers = specValues.map(v => {
          const match = v.match(/[\d.]+/);
          return match ? parseFloat(match[0]) : 0;
        });
        
        const currentNumber = numbers[index];
        
        // 判断是更高还是更低更好
        let isHigherBetter = specName.includes('功率') || specName.includes('扭矩') || 
                             specName.includes('转速') || specName.includes('分辨率');
        
        if (isHigherBetter) {
          if (currentNumber === Math.max(...numbers)) {
            cellStyle += 'background-color: #dcfce7; color: #15803d; font-weight: 600;'; // 绿色-最好
          } else if (currentNumber > Math.min(...numbers)) {
            cellStyle += 'background-color: #fef9c3; color: #854d0e;'; // 黄色-中等
          } else {
            cellStyle += 'background-color: #fee2e2; color: #b91c1c;'; // 红色-较差
          }
        } else {
          // 有些参数是越低越好
          if (currentNumber === Math.min(...numbers)) {
            cellStyle += 'background-color: #dcfce7; color: #15803d; font-weight: 600;'; // 绿色-最好
          } else if (currentNumber < Math.max(...numbers)) {
            cellStyle += 'background-color: #fef9c3; color: #854d0e;'; // 黄色-中等
          } else {
            cellStyle += 'background-color: #fee2e2; color: #b91c1c;'; // 红色-较差
          }
        }
      } else {
        // 非数值型参数，只标记不同
        cellStyle += 'background-color: #f1f5f9;';
      }
    }
    
    tableHTML += `<td style="${cellStyle}">${value}</td>`;
  });
  
  tableHTML += `</tr>`;
});

tableHTML += `
      </tbody>
    </table>
  </div>
</div>
`;















  
  // 添加雷达图容器
  tableHTML += `
    <div style="margin-top: 2rem;">
      <h3 style="margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">性能雷达图比较</h3>
      <div id="radarChartContainer" style="height: 400px; background-color: #f8fafc; border-radius: 8px; padding: 1rem; position: relative;">
        <canvas id="radarChart" width="400" height="300"></canvas>
        <div class="chart-info">悬停在图表上可查看详细数据</div>
      </div>
      <div class="chart-legend" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-top: 1rem;">
        ${products.map((product, index) => {
          const colors = ['#2563eb', '#16a34a', '#d97706', '#dc2626', '#7c3aed'];
          return `
            <div class="legend-item" style="display: flex; align-items: center; font-size: 0.875rem;">
              <div class="legend-color" style="width: 12px; height: 12px; border-radius: 50%; margin-right: 4px; background-color: ${colors[index % colors.length]};"></div>
              <span>${product.title.split(' ')[0]}</span>
            </div>
          `;
        }).join('')}
      </div>
    </div>
  `;
  
  // 添加特点比较 - 矩阵式布局
  tableHTML += `
    <div style="margin-top: 2rem;">
      <h3 style="margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">产品特点比较</h3>
      <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; text-align: left; font-size: 14px;">
          <thead>
            <tr style="background-color: #f8fafc; border-bottom: 2px solid #e2e8f0;">
              <th style="padding: 12px 16px; font-weight: 600; width: 50px;">序号</th>
  `;
  
  // 添加产品列标题
  products.forEach(product => {
    tableHTML += `
      <th style="padding: 12px 16px; text-align: center; font-weight: 600; border-left: 1px solid #e2e8f0;">
        ${product.title.split(' ')[0]}
      </th>
    `;
  });
  
  tableHTML += `
            </tr>
          </thead>
          <tbody>
  `;
  
  // 找出最多特点的产品
  const maxFeatures = Math.max(...products.map(p => p.features.length));
  
  // 逐行添加特点
  for (let i = 0; i < maxFeatures; i++) {
    const isEvenRow = i % 2 === 0;
    tableHTML += `
      <tr style="border-bottom: 1px solid #e2e8f0; background-color: ${isEvenRow ? 'white' : '#f9fafb'};">
        <td style="padding: 10px 16px; font-weight: 500; color: #334155; text-align: center;">${i + 1}</td>
    `;
    
    products.forEach(product => {
      const feature = i < product.features.length ? product.features[i] : '—';
      tableHTML += `
        <td style="padding: 10px 16px; border-left: 1px solid #e2e8f0;">
          ${feature}
        </td>
      `;
    });
    
    tableHTML += `</tr>`;
  }
  
  tableHTML += `
          </tbody>
        </table>
      </div>
    </div>
  `;
  
  // 添加总结
  tableHTML += `
    <div style="margin-top: 2rem; padding: 1.25rem; background-color: #f0f9ff; border-radius: 8px; border-left: 4px solid #2563eb;">
      <h3 style="margin-bottom: 0.75rem; color: #334155; font-size: 1.1rem;">比较总结</h3>
      <div style="line-height: 1.6; color: #334155;">
        ${generateComparisonSummary(products)}
      </div>
    </div>
  `;
  
  return tableHTML;
}
















// 生成比较总结
function generateComparisonSummary(products) {
  // 简单的总结逻辑，根据评分和关键参数对产品进行比较
  let summary = '';
  
  // 按评分排序
  const sortedProducts = [...products].sort((a, b) => parseFloat(b.score) - parseFloat(a.score));
  const bestProduct = sortedProducts[0];
  const others = sortedProducts.slice(1);
  
  // 分析最优产品的优势
  summary += `<strong>${bestProduct.title.split(' ')[0]}</strong> (匹配度 ${bestProduct.score}) 是最佳选择，`;
  
  // 分析功率/扭矩
  const torqueSpecs = products.map(p => {
    const spec = p.specifications.find(s => s.name === '额定扭矩');
    return {
      product: p.title.split(' ')[0],
      value: spec ? parseFloat(spec.value.match(/[\d.]+/)[0]) : 0
    };
  });
  
  const maxTorque = Math.max(...torqueSpecs.map(t => t.value));
  const maxTorqueProduct = torqueSpecs.find(t => t.value === maxTorque).product;
  
  summary += `其中 <strong>${maxTorqueProduct}</strong> 提供最高的额定扭矩 ${maxTorque} Nm，`;
  
  // 分析编码器分辨率
  const resolutionSpecs = products.map(p => {
    const spec = p.specifications.find(s => s.name === '编码器分辨率');
    let bits = 0;
    if (spec) {
      const match = spec.value.match(/(\d+)\s*bit/);
      if (match) bits = parseInt(match[1]);
    }
    return {
      product: p.title.split(' ')[0],
      bits: bits
    };
  });
  
  const maxResolution = Math.max(...resolutionSpecs.map(r => r.bits));
  const maxResProduct = resolutionSpecs.find(r => r.bits === maxResolution).product;
  
  summary += `<strong>${maxResProduct}</strong> 配备 ${maxResolution} bit 编码器提供最高精度。`;
  
  // 为不同应用场景提供建议
  summary += `<br><br>如果您的应用更注重精度控制，建议选择 <strong>${maxResProduct}</strong>；`;
  summary += `如果需要更高扭矩输出，<strong>${maxTorqueProduct}</strong> 是更好的选择；`;
  summary += `如果寻求最佳综合性能，<strong>${bestProduct.title.split(' ')[0]}</strong> 提供最平衡的性能指标。`;
  
  return summary;
}

// 显示比较视图
function showCompareView(productIds) {
  const compareContent = document.getElementById('compareContent');
  compareContent.innerHTML = generateCompareView(productIds);
  
  const compareModal = document.getElementById('compareModal');
  compareModal.style.display = 'flex';
  document.body.style.overflow = 'hidden'; // 防止背景滚动
}

// 关闭比较视图
function closeCompareView() {
  document.getElementById('compareModal').style.display = 'none';
  document.body.style.overflow = ''; // 恢复背景滚动
}

// 将比较总结添加到对话中
function addToComparisonSummary() {
  const products = currentComparedProducts.map(id => productDetails[id]).filter(Boolean);
  const summaryText = generateComparisonSummary(products);
  
  const messagesContainer = document.querySelector('#core-features > div:nth-child(2) > div:first-child > div:first-child');
  if (messagesContainer) {
    const aiMessageHTML = `
      <div style="display: flex; margin-bottom: 1rem;">
        <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
            <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
            <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
            <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
          </svg>
        </div>
        <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
          <p style="margin-top: 0; margin-bottom: 0.75rem; font-weight: 500;">产品比较结果</p>
          <div style="margin-bottom: 0.5rem; color: #334155; line-height: 1.6;">${summaryText}</div>
        </div>
      </div>
    `;
    
    messagesContainer.insertAdjacentHTML('beforeend', aiMessageHTML);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }
  
  // 关闭比较视图
  closeCompareView();
}

// 修改比较按钮点击事件
document.addEventListener('DOMContentLoaded', function() {
  // 其他已有代码保持不变...
  
  // 修改比较按钮功能
  const constraintQuerySection = document.getElementById('constraint-query-content');
  if (constraintQuerySection) {
    const buttonContainer = constraintQuerySection.querySelector('#core-features > div > div:last-child');
    if (buttonContainer) {
      const compareButton = buttonContainer.querySelector('button:nth-child(1)');
      if (compareButton) {
        compareButton.addEventListener('click', function() {
          const checkboxes = constraintQuerySection.querySelectorAll('input[type="checkbox"]');
          const selectedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
          
          if (selectedCount < 2) {
            alert('请至少选择2个产品进行比较');
            return;
          }
          
          // 获取选中型号
          const selectedModels = Array.from(checkboxes)
            .filter(cb => cb.checked)
            .map(cb => {
              const row = cb.closest('div[style*="display: grid"]');
              return row ? row.querySelector('div:nth-child(2)').textContent : '';
            })
            .filter(Boolean);
          
          // 在消息区域添加比较通知
          const messagesContainer = constraintQuerySection.querySelector('#core-features > div:nth-child(2) > div:first-child > div:first-child');
          if (messagesContainer) {
            const compareMessageHTML = `
              <div style="display: flex; margin-bottom: 1rem;">
                <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
                    <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
                    <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
                    <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
                  </svg>
                </div>
                <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
                  <p style="margin-top: 0; margin-bottom: 0.5rem;">我已为您创建了比较视图，对比了以下型号:</p>
                  <p style="margin-bottom: 0.5rem; font-weight: 500;">${selectedModels.join(', ')}</p>
                  <p style="margin-bottom: 0;">正在打开详细比较界面，您可以查看产品参数对比与性能差异。</p>
                </div>
              </div>
            `;
            
            messagesContainer.insertAdjacentHTML('beforeend', compareMessageHTML);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
          }
          
          // 显示比较视图
          showCompareView(selectedModels);
        });
      }
    }
  }
});

// 添加比较视图样式
document.head.insertAdjacentHTML('beforeend', `
  <style>
    /* 比较模态框样式 */
    #compareModal {
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    #compareModal[style*="display: flex"] {
      opacity: 1;
    }
    
    #compareModal > div {
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }
    
    #compareModal[style*="display: flex"] > div {
      transform: translateY(0);
    }
    
    /* 比较表格悬停效果 */
    #compareContent div[style*="display: flex; border-bottom"]:hover {
      background-color: #f8fafc;
    }
    
    /* 强调最优参数 */
    #compareContent div[style*="background-color: #dcfce7"] {
      font-weight: 600;
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
      #compareModal > div {
        width: 95%;
        max-width: 95%;
      }
      
            #compareContent div[style*="display: flex"] {
        flex-direction: column;
        margin-bottom: 1rem;
      }
      
      #compareContent div[style*="display: flex"] > div {
        width: 100%;
        padding: 0.5rem 0;
        border-bottom: 1px solid #e2e8f0;
      }
      
      #compareContent div[style*="display: flex"] > div:first-child {
        font-weight: 600;
        background-color: #f1f5f9;
        padding: 0.5rem;
        border-radius: 4px;
      }
    }
    
    /* 动画效果 */
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4); }
      70% { box-shadow: 0 0 0 6px rgba(37, 99, 235, 0); }
      100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); }
    }
    
    /* 高亮最优参数 */
    .best-parameter {
      position: relative;
      animation: pulse 2s infinite;
    }
    
    /* 比较按钮悬停效果 */
    button[onclick="addToComparisonSummary()"] {
      transition: background-color 0.2s ease, transform 0.1s ease;
    }
    
    button[onclick="addToComparisonSummary()"]:hover {
      background-color: #1d4ed8;
      transform: translateY(-1px);
    }
    
    button[onclick="addToComparisonSummary()"]:active {
      transform: translateY(0);
    }
    
    /* 参数差异标记的工具提示 */
    [data-tooltip] {
      position: relative;
      cursor: help;
    }
    
    [data-tooltip]::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      padding: 0.5rem;
      background-color: #334155;
      color: white;
      border-radius: 4px;
      font-size: 0.8rem;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
    }
    
    [data-tooltip]:hover::after {
      opacity: 1;
      visibility: visible;
    }
    
    /* 图表容器样式 */
    .chart-container {
      margin-top: 2rem;
      height: 300px;
      background-color: #f8fafc;
      border-radius: 8px;
      padding: 1rem;
    }
  </style>
`);

// 创建雷达图比较
function createRadarChart(products) {
  // 假设这里会使用Chart.js或其他库来创建雷达图
  const chartContainer = document.createElement('div');
  chartContainer.className = 'chart-container';
  chartContainer.innerHTML = `
    <h3 style="margin-top: 0; margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">性能雷达图比较</h3>
    <div style="display: flex; justify-content: center; align-items: center; height: 250px; color: #64748b;">
      <p>图表将在这里显示各产品在不同性能维度的对比</p>
    </div>
  `;
  
  return chartContainer;
}

// 增强比较视图
function enhanceCompareView() {
  // 为最优参数添加动画效果
  const bestParams = document.querySelectorAll('#compareContent div[style*="background-color: #dcfce7"]');
  bestParams.forEach(param => {
    param.classList.add('best-parameter');
    param.setAttribute('data-tooltip', '此参数在比较中性能最佳');
  });
  
  // 在适当位置添加雷达图
  const products = currentComparedProducts.map(id => productDetails[id]).filter(Boolean);
  const compareContent = document.getElementById('compareContent');
  const radarChart = createRadarChart(products);
  
  // 在特点比较后添加雷达图
  const featureSection = compareContent.querySelector('div[style*="margin-top: 2rem"]');
  if (featureSection) {
    featureSection.parentNode.insertBefore(radarChart, featureSection.nextSibling);
  }
}

// 修改showCompareView函数以包含增强功能
const originalShowCompareView = showCompareView;
showCompareView = function(productIds) {
  originalShowCompareView(productIds);
  // 在视图显示后添加增强功能
  setTimeout(enhanceCompareView, 100);
};

// 添加比较结果导出功能
function exportComparisonResult() {
  // 创建一个虚拟链接用于下载
  const a = document.createElement('a');
  
  // 获取比较结果内容
  const products = currentComparedProducts.map(id => productDetails[id]).filter(Boolean);
  const summaryText = generateComparisonSummary(products);
  
  // 创建导出内容
  let exportContent = "产品比较结果\n\n";
  exportContent += "比较的产品：\n";
  products.forEach(product => {
    exportContent += `- ${product.title} (${product.manufacturer})\n`;
  });
  
  exportContent += "\n性能参数对比：\n";
  // 添加关键参数对比
  const keySpecs = ['额定功率', '额定扭矩', '最高转速', '编码器分辨率'];
  keySpecs.forEach(specName => {
    exportContent += `\n${specName}：\n`;
    products.forEach(product => {
      const spec = product.specifications.find(s => s.name === specName);
      exportContent += `- ${product.title.split(' ')[0]}: ${spec ? spec.value : 'N/A'}\n`;
    });
  });
  
  exportContent += "\n总结：\n";
  // 移除HTML标签
  exportContent += summaryText.replace(/<\/?[^>]+(>|$)/g, "");
  
  // 创建Blob对象
  const blob = new Blob([exportContent], {type: 'text/plain'});
  
  // 设置下载链接
  a.href = URL.createObjectURL(blob);
  a.download = '产品比较.txt';
  
  // 触发下载
  document.body.appendChild(a);
  a.click();
  
  // 清理
  document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}

// 添加导出按钮
function addExportButton() {
  const modalActions = document.querySelector('#compareModal > div > div[style*="display: flex; justify-content: flex-end"]');
  if (modalActions) {
    const exportButton = document.createElement('button');
    exportButton.textContent = '导出比较';
    exportButton.style.cssText = 'padding: 0.5rem 1rem; background-color: #0f766e; color: white; border: none; border-radius: 6px; cursor: pointer;';
    exportButton.onclick = exportComparisonResult;
    
    modalActions.insertBefore(exportButton, modalActions.firstChild);
  }
}

// 修改showCompareView函数以添加导出按钮
const enhancedShowCompareView = showCompareView;
showCompareView = function(productIds) {
  enhancedShowCompareView(productIds);
  // 添加导出按钮
  setTimeout(addExportButton, 100);
};
</script>










<script>
// 绘制雷达图比较函数
function drawRadarChart(products) {
  // 清除之前的图表
  const chartContainer = document.getElementById('radarChartContainer');
  chartContainer.innerHTML = '<canvas id="radarChart" width="400" height="300"></canvas>';
  
  // 获取关键性能参数
  const parameters = ['额定功率', '额定扭矩', '最高转速', '编码器分辨率', '响应时间'];
  const parameterScales = {
    '额定功率': { regex: /(\d+\.?\d*)/, unit: 'W', higher: true },
    '额定扭矩': { regex: /(\d+\.?\d*)/, unit: 'Nm', higher: true },
    '最高转速': { regex: /(\d+\.?\d*)/, unit: 'rpm', higher: true },
    '编码器分辨率': { regex: /(\d+)/, unit: 'bit', higher: true },
    '响应时间': { regex: /(\d+\.?\d*)/, unit: 'ms', higher: false }
  };
  
  // 为每个产品准备数据
  const datasets = [];
  const colors = ['#2563eb', '#16a34a', '#d97706', '#dc2626', '#7c3aed'];
  
  products.forEach((product, index) => {
    // 归一化产品参数值
    const data = parameters.map(param => {
      const spec = product.specifications.find(s => s.name === param);
      if (!spec) return 0;
      
      const paramInfo = parameterScales[param];
      const match = spec.value.match(paramInfo.regex);
      if (!match) return 0;
      
      let value = parseFloat(match[1]);
      
      // 为了展示效果，将值归一化到0-100区间
      if (param === '额定功率') value = value / 5; // 假设最大500W
      else if (param === '额定扭矩') value = value * 5; // 假设最大20Nm
      else if (param === '最高转速') value = value / 60; // 假设最大6000rpm
      else if (param === '编码器分辨率') value = value * 5; // 假设最大20bit
      else if (param === '响应时间') value = 100 - value * 10; // 假设最小1ms最大10ms，并反转值
      
      return Math.min(100, Math.max(0, value));
    });
    
    datasets.push({
      label: product.title.split(' ')[0],
      data: data,
      backgroundColor: `${colors[index % colors.length]}20`,
      borderColor: colors[index % colors.length],
      pointBackgroundColor: colors[index % colors.length],
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: colors[index % colors.length]
    });
  });
  
  // 创建雷达图
  const ctx = document.getElementById('radarChart').getContext('2d');
  new Chart(ctx, {
    type: 'radar',
    data: {
      labels: ['功率', '扭矩', '转速', '精度', '响应速度'],
      datasets: datasets
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      elements: {
        line: {
          borderWidth: 2
        }
      },
      scales: {
        r: {
          min: 0,
          max: 100,
          ticks: {
            display: false
          }
        }
      },
      plugins: {
        legend: {
          position: 'top',
          labels: {
            font: {
              size: 12
            }
          }
        },
        tooltip: {
          callbacks: {
            title: function(context) {
              return context[0].label;
            },
            label: function(context) {
              const paramIndex = context.dataIndex;
              const paramName = parameters[paramIndex];
              const productIndex = context.datasetIndex;
              const product = products[productIndex];
              const spec = product.specifications.find(s => s.name === paramName);
              
              return spec ? `${paramName}: ${spec.value}` : `${paramName}: 无数据`;
            }
          }
        }
      }
    }
  });
}












// 替换当前的generateCompareView函数，确保只有一个版本并且包含雷达图功能
function generateCompareView(productIds) {
  currentComparedProducts = productIds;
  const products = productIds.map(id => productDetails[id]).filter(Boolean);
  
  if (products.length < 2) {
    return '<p>没有足够的产品进行比较</p>';
  }
  
  // 获取所有规格参数名称
  const allSpecs = [];
  products.forEach(product => {
    product.specifications.forEach(spec => {
      if (!allSpecs.includes(spec.name)) {
        allSpecs.push(spec.name);
      }
    });
  });
  
  // 生成比较表格头部
  let tableHTML = `
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
      <div style="flex: 1;">
        <div style="text-align: center; font-weight: 600; margin-bottom: 0.75rem; color: #334155; padding-bottom: 0.5rem; border-bottom: 2px solid #e2e8f0;">参数</div>
  `;
  
  // 添加产品列 - 完全横向排列版本
products.forEach(product => {
  tableHTML += `
    <div style="flex: 1;">
      <div style="text-align: center; font-weight: 600; margin-bottom: 0.75rem; color: #334155; padding-bottom: 0.5rem; border-bottom: 2px solid #e2e8f0; display: flex; justify-content: center; align-items: baseline; flex-wrap: wrap; gap: 0.5rem;">
        <span>${product.title.split(' ')[0]}</span>
        <span style="font-size: 0.85rem; font-weight: normal; color: #64748b;">${product.manufacturer}</span>
        <span style="color: #2563eb; font-size: 0.85rem; font-weight: 500;">(${product.score})</span>
      </div>
  `;
});
  
  tableHTML += `</div>`;
  
  // 生成规格参数比较行
  allSpecs.forEach(specName => {
    tableHTML += `
      <div style="display: flex; border-bottom: 1px solid #e2e8f0; padding: 0.75rem 0;">
        <div style="flex: 1; font-weight: 500; color: #334155;">${specName}</div>
    `;
    
    // 为每个产品添加参数值，并根据差异添加颜色
    const specValues = products.map(product => {
      const spec = product.specifications.find(s => s.name === specName);
      return spec ? spec.value : 'N/A';
    });
    
    // 检测是否有差异
    const hasDifference = new Set(specValues.filter(v => v !== 'N/A')).size > 1;
    
    // 为每个产品添加参数值单元格
    specValues.forEach((value, index) => {
      let cellStyle = '';
      
      // 根据参数性质和值的差异添加颜色标识
      if (hasDifference) {
        // 对于数值型参数，判断是否是最优值
        if (specName.includes('功率') || specName.includes('扭矩') || 
            specName.includes('转速') || specName.includes('分辨率')) {
          
          // 提取数字部分进行比较
          const numbers = specValues.map(v => {
            const match = v.match(/[\d.]+/);
            return match ? parseFloat(match[0]) : 0;
          });
          
          const currentNumber = numbers[index];
          
          // 判断是更高还是更低更好
          let isHigherBetter = specName.includes('功率') || specName.includes('扭矩') || 
                               specName.includes('转速') || specName.includes('分辨率');
          
          if (isHigherBetter) {
            if (currentNumber === Math.max(...numbers)) {
              cellStyle = 'background-color: #dcfce7; color: #15803d;'; // 绿色-最好
            } else if (currentNumber > Math.min(...numbers)) {
              cellStyle = 'background-color: #fef9c3; color: #854d0e;'; // 黄色-中等
            } else {
              cellStyle = 'background-color: #fee2e2; color: #b91c1c;'; // 红色-较差
            }
          } else {
            // 有些参数是越低越好
            if (currentNumber === Math.min(...numbers)) {
              cellStyle = 'background-color: #dcfce7; color: #15803d;'; // 绿色-最好
            } else if (currentNumber < Math.max(...numbers)) {
              cellStyle = 'background-color: #fef9c3; color: #854d0e;'; // 黄色-中等
            } else {
              cellStyle = 'background-color: #fee2e2; color: #b91c1c;'; // 红色-较差
            }
          }
        } else {
          // 非数值型参数，只标记不同
          cellStyle = 'background-color: #f1f5f9;';
        }
      }
      
      tableHTML += `<div style="flex: 1; text-align: center; ${cellStyle}">${value}</div>`;
    });
    
    tableHTML += `</div>`;
  });
  
  // 添加雷达图容器 - 这是关键修改部分
  tableHTML += `
    <div style="margin-top: 2rem;">
      <h3 style="margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">性能雷达图比较</h3>
      <div id="radarChartContainer" style="height: 400px; background-color: #f8fafc; border-radius: 8px; padding: 1rem; position: relative;">
        <canvas id="radarChart" width="400" height="300"></canvas>
        <div class="chart-info">悬停在图表上可查看详细数据</div>
      </div>
      <div class="chart-legend" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-top: 1rem;">
        ${products.map((product, index) => {
          const colors = ['#2563eb', '#16a34a', '#d97706', '#dc2626', '#7c3aed'];
          return `
            <div class="legend-item" style="display: flex; align-items: center; font-size: 0.875rem;">
              <div class="legend-color" style="width: 12px; height: 12px; border-radius: 50%; margin-right: 4px; background-color: ${colors[index % colors.length]};"></div>
              <span>${product.title.split(' ')[0]}</span>
            </div>
          `;
        }).join('')}
      </div>
    </div>
  `;
  
  // 添加特点比较
  tableHTML += `
    <div style="margin-top: 2rem;">
      <h3 style="margin-bottom: 1rem; color: #334155; font-size: 1.1rem;">产品特点比较</h3>
      <div style="display: flex; gap: 1rem;">
  `;
  
  // 为每个产品添加特点列表
  products.forEach(product => {
    tableHTML += `
      <div style="flex: 1; background-color: #f8fafc; padding: 1rem; border-radius: 8px;">
        <div style="font-weight: 600; margin-bottom: 0.75rem; color: #334155;">${product.title.split(' ')[0]}</div>
        <ul style="padding-left: 1.25rem; margin: 0;">
    `;
    
    product.features.forEach(feature => {
      tableHTML += `<li style="margin-bottom: 0.5rem; font-size: 0.9rem;">${feature}</li>`;
    });
    
    tableHTML += `</ul></div>`;
  });
  
  tableHTML += `</div>`;
  
  // 添加总结
  tableHTML += `
    <div style="margin-top: 2rem; padding: 1.25rem; background-color: #f0f9ff; border-radius: 8px; border-left: 4px solid #2563eb;">
      <h3 style="margin-bottom: 0.75rem; color: #334155; font-size: 1.1rem;">比较总结</h3>
      <div style="line-height: 1.6; color: #334155;">
  `;
  
  // 生成比较总结文本
  let summaryText = generateComparisonSummary(products);
  tableHTML += `<p>${summaryText}</p>`;
  
  tableHTML += `</div></div>`;
  
  return tableHTML;
}

// 修改showCompareView函数，确保正确调用雷达图绘制
function showCompareView(productIds) {
  const compareContent = document.getElementById('compareContent');
  compareContent.innerHTML = generateCompareView(productIds);
  
  const compareModal = document.getElementById('compareModal');
  compareModal.style.display = 'flex';
  document.body.style.overflow = 'hidden'; // 防止背景滚动
  
  // 确保在DOM渲染完成后再绘制图表
  setTimeout(() => {
    try {
      const products = productIds.map(id => productDetails[id]).filter(Boolean);
      drawRadarChart(products);
    } catch (error) {
      console.error('绘制雷达图时出错:', error);
      // 添加错误回退显示
      const chartContainer = document.getElementById('radarChartContainer');
      if (chartContainer) {
        chartContainer.innerHTML = `
          <div style="padding: 1rem; text-align: center; color: #dc2626;">
            <p>图表加载失败，请确保网络连接正常并刷新页面重试。</p>
          </div>
        `;
      }
    }
  }, 200); // 增加延迟时间以确保DOM完全准备好
}

// 增强drawRadarChart函数的可靠性
function drawRadarChart(products) {
  // 检查容器是否存在
  const chartContainer = document.getElementById('radarChartContainer');
  if (!chartContainer) {
    console.error('找不到图表容器');
    return;
  }
  
  // 检查Chart对象是否可用
  if (typeof Chart === 'undefined') {
    console.error('Chart.js库未加载');
    chartContainer.innerHTML = `
      <div style="padding: 1rem; text-align: center; color: #dc2626;">
        <p>图表库加载失败，请刷新页面重试。</p>
      </div>
    `;
    return;
  }
  
  // 清除之前的图表
  chartContainer.innerHTML = '<canvas id="radarChart" width="400" height="300"></canvas>';
  
  // 获取关键性能参数
  const parameters = ['额定功率', '额定扭矩', '额定转速', '编码器分辨率', '响应频率'];
  const parameterScales = {
    '额定功率': { regex: /(\d+\.?\d*)/, unit: 'kW', higher: true },
    '额定扭矩': { regex: /(\d+\.?\d*)/, unit: 'Nm', higher: true },
    '额定转速': { regex: /(\d+\.?\d*)/, unit: 'rpm', higher: true },
    '编码器分辨率': { regex: /(\d+)/, unit: 'bit', higher: true },
    '响应频率': { regex: /(\d+\.?\d*)/, unit: 'kHz', higher: true }
  };
  
  // 为每个产品准备数据
  const datasets = [];
  const colors = ['#2563eb', '#16a34a', '#d97706', '#dc2626', '#7c3aed'];
  
  products.forEach((product, index) => {
    // 归一化产品参数值
    const data = parameters.map(param => {
      const spec = product.specifications.find(s => s.name === param);
      if (!spec) return 50; // 默认中间值，避免图表空白
      
      const paramInfo = parameterScales[param];
      if (!paramInfo) return 50;
      
      const match = spec.value.match(paramInfo.regex);
      if (!match) return 50;
      
      let value = parseFloat(match[1]);
      
      // 为了展示效果，将值归一化到0-100区间
      if (param === '额定功率') value = (value / 3) * 100; // 归一化功率
      else if (param === '额定扭矩') value = (value / 10) * 100; // 归一化扭矩
      else if (param === '额定转速') value = (value / 4000) * 100; // 归一化转速
      else if (param === '编码器分辨率') value = (value / 24) * 100; // 归一化分辨率
      else if (param === '响应频率') value = (value / 3) * 100; // 归一化响应频率
      
      return Math.min(100, Math.max(20, value)); // 保证至少有20%的值，避免图表太小
    });
    
    datasets.push({
      label: product.title.split(' ')[0],
      data: data,
      backgroundColor: `${colors[index % colors.length]}33`, // 33是透明度20%的十六进制
      borderColor: colors[index % colors.length],
      pointBackgroundColor: colors[index % colors.length],
      borderWidth: 2,
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: colors[index % colors.length],
      pointRadius: 4,
      pointHoverRadius: 6
    });
  });
  
  // 创建雷达图
  const ctx = document.getElementById('radarChart');
  if (!ctx) {
    console.error('找不到图表Canvas元素');
    return;
  }
  
  try {
    new Chart(ctx, {
      type: 'radar',
      data: {
        labels: ['功率', '扭矩', '转速', '精度', '响应速度'],
        datasets: datasets
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        elements: {
          line: {
            tension: 0.1 // 使线条更平滑
          }
        },
        plugins: {
          legend: {
            display: false // 不显示默认图例，使用自定义图例
          },
          tooltip: {
            backgroundColor: 'rgba(15, 23, 42, 0.8)',
            titleFont: {
              size: 14,
              weight: 'bold'
            },
            bodyFont: {
              size: 13
            },
            padding: 10,
            callbacks: {
              title: function(context) {
                return context[0].dataset.label;
              },
              label: function(context) {
                const paramIndex = context.dataIndex;
                const paramName = parameters[paramIndex];
                const productIndex = context.datasetIndex;
                const product = products[productIndex];
                const spec = product.specifications.find(s => s.name === paramName);
                
                return spec ? `${paramName}: ${spec.value}` : `${paramName}: 无数据`;
              }
            }
          }
        },
        scales: {
          r: {
            min: 0,
            max: 100,
            ticks: {
              display: false
            },
            pointLabels: {
              font: {
                size: 14,
                weight: 'bold'
              },
              color: '#334155'
            },
            grid: {
                            color: 'rgba(226, 232, 240, 0.8)'
            },
            angleLines: {
              color: 'rgba(226, 232, 240, 0.8)'
            }
          }
        }
      }
    });
  } catch (error) {
    console.error('创建雷达图时出错:', error);
    chartContainer.innerHTML = `
      <div style="padding: 1rem; text-align: center; color: #dc2626;">
        <p>图表创建失败: ${error.message}</p>
        <p>请刷新页面重试</p>
      </div>
    `;
  }
}

// 添加比较总结生成函数
function generateComparisonSummary(products) {
  if (products.length < 2) return "需要至少两个产品才能生成比较总结。";
  
  // 提取产品名称
  const productNames = products.map(p => p.title.split(' ')[0]);
  
  // 比较关键规格
  const keySpecs = ['额定功率', '额定扭矩', '额定转速', '编码器分辨率'];
  const comparisons = [];
  
  keySpecs.forEach(specName => {
    // 收集所有产品的该规格值
    const specValues = products.map(product => {
      const spec = product.specifications.find(s => s.name === specName);
      if (!spec) return { product: product.title.split(' ')[0], value: null };
      
      // 提取数值部分
      const match = spec.value.match(/[\d.]+/);
      if (!match) return { product: product.title.split(' ')[0], value: null };
      
      return { 
        product: product.title.split(' ')[0], 
        value: parseFloat(match[0]),
        fullValue: spec.value 
      };
    }).filter(item => item.value !== null);
    
    if (specValues.length < 2) return; // 跳过没有足够数据的规格
    
    // 根据规格类型，判断值的优劣
    let isHigherBetter = specName.includes('功率') || specName.includes('扭矩') || 
                          specName.includes('转速') || specName.includes('分辨率');
    
    // 排序找出最佳值
    specValues.sort((a, b) => isHigherBetter ? b.value - a.value : a.value - b.value);
    
    // 添加比较结论
    if (specValues[0].value !== specValues[1].value) {
      const diff = ((Math.abs(specValues[0].value - specValues[1].value) / specValues[1].value) * 100).toFixed(0);
      if (diff > 5) { // 只有当差异超过5%才添加比较
        comparisons.push(`在${specName}方面，${specValues[0].product}(${specValues[0].fullValue})比${specValues[1].product}(${specValues[1].fullValue})${isHigherBetter ? '高' : '低'}出约${diff}%。`);
      }
    }
  });
  
  // 生成总结文本
  let summary = `我们对${productNames.join('、')}进行了详细比较，`;
  
  if (comparisons.length > 0) {
    summary += `主要差异体现在：${comparisons.join(' ')}`;
  } else {
    summary += `这些产品在关键规格参数上相近，差异不显著。`;
  }
  
  // 添加推荐
  summary += ` 建议您根据具体使用场景、预算和品牌偏好做出选择。如果您注重${keySpecs[0]}，${productNames[0]}可能是更好的选择；如果您对性价比更关注，请参考详细参数表格进行决策。`;
  
  return summary;
}

// 确保Chart.js库已加载的检查函数
function ensureChartLibraryLoaded() {
  if (typeof Chart === 'undefined') {
    // 如果Chart对象不存在，动态加载Chart.js库
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
    script.async = true;
    script.onload = function() {
      console.log('Chart.js库已成功加载');
      // 如果当前正在比较产品，重新绘制图表
      if (currentComparedProducts && currentComparedProducts.length >= 2) {
        const products = currentComparedProducts.map(id => productDetails[id]).filter(Boolean);
        drawRadarChart(products);
      }
    };
    script.onerror = function() {
      console.error('加载Chart.js库失败');
      // 显示错误消息
      const chartContainer = document.getElementById('radarChartContainer');
      if (chartContainer) {
        chartContainer.innerHTML = `
          <div style="padding: 1rem; text-align: center; color: #dc2626;">
            <p>无法加载图表库。请检查您的网络连接并刷新页面。</p>
          </div>
        `;
      }
    };
    document.head.appendChild(script);
    return false;
  }
  return true;
}

// 在页面加载完成后检查Chart.js库
document.addEventListener('DOMContentLoaded', function() {
  ensureChartLibraryLoaded();
});







// 下载比较内容的函数
function downloadComparisonContent() {
  // 获取比较内容
  const compareContent = document.getElementById('compareContent');
  if (!compareContent) {
    alert('未找到比较内容');
    return;
  }
  
  // 创建一个完整的HTML页面
  const products = currentComparedProducts.map(id => productDetails[id]).filter(Boolean);
  const productNames = products.map(p => p.title.split(' ')[0]).join('_vs_');
  
  // 创建HTML文档
  let htmlContent = `
    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>产品比较: ${productNames}</title>
      <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #334155; line-height: 1.6; padding: 2rem; }
        h2 { color: #2563eb; font-size: 1.5rem; margin-bottom: 1.5rem; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0; }
        th { background-color: #f8fafc; font-weight: 600; }
        .summary { background-color: #f0f9ff; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #2563eb; margin-top: 2rem; }
        .best { background-color: #dcfce7; color: #15803d; }
        .medium { background-color: #fef9c3; color: #854d0e; }
        .worst { background-color: #fee2e2; color: #b91c1c; }
      </style>
    </head>
    <body>
      <h2>产品比较: ${productNames}</h2>
      ${compareContent.innerHTML}
      <div style="margin-top: 2rem; text-align: center; color: #64748b; font-size: 0.875rem;">
        <p>由秒寻-AI驱动的工业元器件选型助手生成</p>
        <p>生成日期: ${new Date().toLocaleDateString()}</p>
      </div>
    </body>
    </html>
  `;
  
  // 创建Blob对象
  const blob = new Blob([htmlContent], { type: 'text/html' });
  
  // 创建下载链接
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `产品比较_${productNames}_${new Date().toISOString().split('T')[0]}.html`;
  
  // 触发下载
  document.body.appendChild(a);
  a.click();
  
  // 清理
  document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}
























// 显示BOM替代品比较表格
function showBomComparisonTable() {
  // 使用多个选择器策略，确保能找到右侧容器
  let rightSideContainer = document.querySelector('.right-side');
  
  if (!rightSideContainer) {
    // 尝试使用更精确的选择器路径
    rightSideContainer = document.querySelector('#core-features > div:nth-child(2) > div:nth-child(2)');
    
    // 再尝试一个更通用的选择器
    if (!rightSideContainer) {
      rightSideContainer = document.querySelector('div[style*="flex: 2.5"]');
      
      if (!rightSideContainer) {
        console.error('无法找到右侧容器');
        alert('无法更新显示区域，请刷新页面后重试');
        return;
      }
    }
  }
  
  // 保存当前状态，以便可以切换回来
  if (!rightSideContainer.dataset.originalContent) {
    rightSideContainer.dataset.originalContent = rightSideContainer.innerHTML;
  }
  
  // 强制布局刷新，确保DOM更新
  rightSideContainer.style.display = 'none';
  
  // 延迟执行以确保DOM操作顺序正确
  setTimeout(() => {
    // 重新应用布局样式
    rightSideContainer.style.display = 'flex';
    rightSideContainer.style.flexDirection = 'column';










  
  // 创建新的表格标题和内容
  const newHeaderHTML = `
      <div style="padding: 0.8rem 1.2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e2e8f0;">
        <div>BOM元器件替代方案 (24个元器件)</div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">



          <button style="background-color: transparent; border: none; padding: 0.4rem; cursor: pointer;" title="下载">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
<polyline points="7 10 12 15 17 10"></polyline>
<line x1="12" y1="15" x2="12" y2="3"></line>
</svg>
</button>



<button style="background-color: transparent; border: none; padding: 0.4rem; cursor: pointer;" title="右缩进">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
    <!-- 竖线表示左侧边界 -->
    <line x1="4" y1="4" x2="4" y2="20" />
    <!-- 右箭头 -->
    <polyline points="8,8 16,12 8,16" />
  </svg>
</button>



        </div>
      </div>
      
      <div style="display: grid; grid-template-columns: 0.8fr 1fr 1fr 0.8fr 0.5fr 1fr; background-color: #f8fafc; padding: 0.8rem 1.2rem; font-weight: 500; color: #000000; border-bottom: 1px solid #e2e8f0; font-size: 12px;">
        <div style="text-align: left;">原品牌</div>
        <div style="text-align: left;">原型号</div>
        <div style="text-align: left;">替代品</div>
        <div style="text-align: center;">评级</div>
        <div style="text-align: center;">打分</div>
        <div style="text-align: left;">制造商</div>
      </div>
    `;
  
  // 创建表格内容区域
  let tableBodyHTML = `<div style="flex-grow: 1; overflow-y: auto; font-size: 12px; max-height: calc(100% - 80px);">`;
  
  // 生成示例数据行
  const sampleData = [
    { originalBrand: 'TI', originalModel: 'LM317T', alternative: 'LM317AT', rating: '替换 DROP IN', score: '0.98', manufacturer: 'ST' },
    { originalBrand: 'NXP', originalModel: 'BC547B', alternative: '2SC1815GR', rating: '形配 FORM&FIT', score: '0.94', manufacturer: 'Toshiba' },
    { originalBrand: 'AMD', originalModel: 'AM29F032B-90EC', alternative: 'SST39VF3201-70-4C-EKE', rating: '备选 ALTERNATIVE', score: '0.87', manufacturer: 'Microchip' },
    { originalBrand: 'TI', originalModel: 'CD4017BE', alternative: 'MC14017BCP', rating: '替换 DROP IN', score: '0.96', manufacturer: 'ON Semi' },
    { originalBrand: 'STMicro', originalModel: 'STM32F103C8T6', alternative: 'STM32F103C8T6TR', rating: '替换 DROP IN', score: '0.99', manufacturer: 'STMicro' },
    { originalBrand: 'Vishay', originalModel: 'IRF540N', alternative: 'IRFZ44N', rating: '形配 FORM&FIT', score: '0.92', manufacturer: 'Infineon' },
    { originalBrand: 'Analog Devices', originalModel: 'AD620ANZ', alternative: 'INA128P', rating: '备选 ALTERNATIVE', score: '0.86', manufacturer: 'TI' },
    { originalBrand: 'Maxim', originalModel: 'MAX232ACPE+', alternative: 'MAX3232EPE', rating: '形配 FORM&FIT', score: '0.91', manufacturer: 'Maxim' },
    { originalBrand: 'TI', originalModel: 'TL072CP', alternative: 'NE5532P', rating: '备选 ALTERNATIVE', score: '0.84', manufacturer: 'ON Semi' },
    { originalBrand: 'ROHM', originalModel: 'BA6418N', alternative: 'LA4440J', rating: '形配 FORM&FIT', score: '0.89', manufacturer: 'Sanyo' },
    { originalBrand: 'Microchip', originalModel: 'PIC16F877A-I/P', alternative: 'PIC16F877-20I/P', rating: '替换 DROP IN', score: '0.97', manufacturer: 'Microchip' },
    { originalBrand: 'Samsung', originalModel: 'K4F6E304HB-MGCH', alternative: 'MT52L256M32D1PF-107', rating: '备选 ALTERNATIVE', score: '0.83', manufacturer: 'Micron' },
    { originalBrand: 'Bosch', originalModel: 'BMP280', alternative: 'BME280', rating: '形配 FORM&FIT', score: '0.93', manufacturer: 'Bosch' },
    { originalBrand: 'Allegro', originalModel: 'ACS712ELCTR-30A-T', alternative: 'ACS713ELCTR-30A-T', rating: '形配 FORM&FIT', score: '0.90', manufacturer: 'Allegro' },
    { originalBrand: 'Atmel', originalModel: 'ATMEGA328P-PU', alternative: 'ATMEGA328-PU', rating: '替换 DROP IN', score: '0.95', manufacturer: 'Microchip' },
    { originalBrand: 'Fairchild', originalModel: '2N7000', alternative: 'BS170', rating: '形配 FORM&FIT', score: '0.88', manufacturer: 'ON Semi' },
    { originalBrand: 'Siemens', originalModel: 'S7-1200', alternative: 'S7-1215C', rating: '备选 ALTERNATIVE', score: '0.82', manufacturer: 'Siemens' },
    { originalBrand: 'Mitsubishi', originalModel: 'PS21963-4', alternative: 'PS21964-4', rating: '替换 DROP IN', score: '0.97', manufacturer: 'Mitsubishi' },
    { originalBrand: 'ABB', originalModel: 'ACS580-01-12A6-4', alternative: 'ACS480-01-12A6-4', rating: '备选 ALTERNATIVE', score: '0.85', manufacturer: 'ABB' },
    { originalBrand: 'Schneider', originalModel: 'LC1D09BD', alternative: 'LC1D09BL', rating: '形配 FORM&FIT', score: '0.91', manufacturer: 'Schneider' },
    { originalBrand: 'Omron', originalModel: 'G2R-1-E', alternative: 'MY2N-GS', rating: '备选 ALTERNATIVE', score: '0.84', manufacturer: 'Omron' },
    { originalBrand: 'Delta', originalModel: 'DVP14SS211R', alternative: 'DVP14SS211T', rating: '替换 DROP IN', score: '0.94', manufacturer: 'Delta' },
    { originalBrand: 'Phoenix', originalModel: '2866310', alternative: '2866323', rating: '形配 FORM&FIT', score: '0.89', manufacturer: 'Phoenix' },
    { originalBrand: 'Fuji', originalModel: 'SC-E02/G', alternative: 'SC-E1/G', rating: '备选 ALTERNATIVE', score: '0.81', manufacturer: 'Fuji' }
  ];
  
  // 生成表格行
    sampleData.forEach((item, index) => {
      const isEvenRow = index % 2 === 1;
      const bgColor = isEvenRow ? '#f9fafb' : '';
      const ratingStyle = item.rating.includes('替换') ? 'background-color: #dcfce7; color: #166534;' : 
                          item.rating.includes('形配') ? 'background-color: #f0f9ff; color: #0c4a6e;' :
                          'background-color: #fef3c7; color: #92400e;';
      
      tableBodyHTML += `
        <div class="alternative-highlight" style="display: grid; grid-template-columns: 0.8fr 1fr 1fr 0.8fr 0.5fr 1fr; padding: 1rem 1.2rem; border-bottom: 1px solid #e2e8f0; align-items: center; background-color: ${bgColor}; transition: background-color 0.2s ease, border-left 0.2s ease; cursor: pointer;">
          <div style="text-align: left;">${item.originalBrand}</div>
          <div style="text-align: left; font-weight: 500; color: #000000;">${item.originalModel}</div>
          <div style="text-align: left; font-weight: 500; color: #2563eb;">${item.alternative}</div>
          <div style="text-align: center;">
            <span style="padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 11px; ${ratingStyle}">${item.rating}</span>
          </div>
          <div style="text-align: center; font-weight: 600; color: #000000;">${item.score}</div>
          <div style="text-align: left;">${item.manufacturer}</div>
        </div>
      `;
    });
    
    tableBodyHTML += `</div>`;
  
 // 替换右侧内容，并确保其可见
    rightSideContainer.innerHTML = newHeaderHTML + tableBodyHTML;
    rightSideContainer.style.visibility = 'visible';
    rightSideContainer.style.opacity = '1';
    
    // 为新添加的元素添加交互事件
    addInteractionToAlternativeRows();
  }, 50);
}






// 添加交互事件的辅助函数
function addInteractionToAlternativeRows() {
  const alternativeRows = document.querySelectorAll('.alternative-highlight');
  alternativeRows.forEach(row => {
    if (!row.dataset.eventAttached) {
      row.dataset.eventAttached = 'true';
      
      row.addEventListener('mouseover', function() {
        this.style.backgroundColor = '#f1f5f9';
        this.style.borderLeft = '4px solid #2563eb';
      });
      
      row.addEventListener('mouseout', function() {
        const index = Array.from(this.parentElement.children).indexOf(this);
        const isEvenRow = index % 2 === 1;
        this.style.backgroundColor = isEvenRow ? '#f9fafb' : '';
        this.style.borderLeft = '0';
      });
      
      row.addEventListener('click', function() {
        const cells = this.querySelectorAll('div');
        const originalBrand = cells[0].textContent;
        const originalModel = cells[1].textContent;
        const alternative = cells[2].textContent;
        
        showComponentDetailPopup(originalBrand, originalModel, alternative);
      });
    }
  });
}






















// 文件上传处理
// 文件上传处理
document.addEventListener('DOMContentLoaded', function() {
  // 选择文件上传输入元素
  const fileUploadInput = document.getElementById('fileUpload');
  if (!fileUploadInput) return;
  
  // 监听文件选择变化事件
  fileUploadInput.addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    // 验证文件类型
    const validTypes = [
      'application/vnd.ms-excel',
      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
      'text/csv',
      'text/plain'
    ];
    
    if (!validTypes.includes(file.type) && 
        !(file.name.endsWith('.xls') || file.name.endsWith('.xlsx') || file.name.endsWith('.csv') || file.name.endsWith('.txt'))) {
      alert('请上传有效的BOM文件 (Excel, CSV 或 TXT 格式)');
      return;
    }
    








    // 向聊天区域添加上传信息
   const messagesContainer = document.querySelector('#core-features > div:nth-child(2) > div:first-child > div:first-child');
    if (messagesContainer) {
      // 显示用户上传消息
      const uploadMessageHTML = `
        <div style="display: flex; margin-bottom: 1rem; justify-content: flex-end;">
          <div style="background-color: #eef2ff; padding: 1rem; border-radius: 8px; max-width: 80%;">
            <p style="margin: 0;">我上传了一个BOM文件: ${file.name} (${formatFileSize(file.size)})</p>
          </div>
          <div style="width: 36px; height: 36px; background-color: #e2e8f0; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-left: 0.8rem; flex-shrink: 0; color: #334155;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
        </div>
      `;
      
      messagesContainer.insertAdjacentHTML('beforeend', uploadMessageHTML);
      
      // 显示AI思考状态
      const thinkingHTML = `
        <div class="ai-thinking" style="display: flex; margin-bottom: 1rem;">
          <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
              <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
              <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
              <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
            </svg>
          </div>
          <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
            <p style="margin: 0;">正在处理您的BOM文件，查找替代元器件...</p>
            <div class="typing-indicator" style="display: flex; margin-top: 8px;">
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; margin-right: 4px; animation: pulse 1s infinite;"></div>
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; margin-right: 4px; animation: pulse 1s infinite 0.2s;"></div>
              <div style="height: 8px; width: 8px; border-radius: 50%; background-color: #2563eb; animation: pulse 1s infinite 0.4s;"></div>
            </div>
          </div>
        </div>
      `;
      
      messagesContainer.insertAdjacentHTML('beforeend', thinkingHTML);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    // 延迟2秒后切换右侧区域并更新对话内容
    setTimeout(() => {
      // 移除思考状态
      const thinkingElement = document.querySelector('.ai-thinking');
      if (thinkingElement) {
        thinkingElement.remove();
      }
      
      // 添加AI回复
      if (messagesContainer) {
        const aiResponseHTML = `
          <div style="display: flex; margin-bottom: 1rem;">
            <div style="width: 36px; height: 36px; background-color: #2563eb; color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 0.8rem; flex-shrink: 0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2l5.09 5.09L12 12.18l-5.09-5.09L12 2z"></path>
                <path d="M12 12.18l5.09 5.09L12 22.36l-5.09-5.09L12 12.18z"></path>
                <path d="M2 12l5.09-5.09L12 12l-4.91 5.09L2 12z"></path>
                <path d="M22 12l-5.09-5.09L12 12l4.91 5.09L22 12z"></path>
              </svg>
            </div>
            <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
              <p style="margin: 0;">我已完成BOM文件分析，共发现24个元器件需要替代方案。右侧已为您列出了具体替代建议，按匹配度排序。您可以点击每行查看详细信息。</p>
            </div>
          </div>
        `;
        
        messagesContainer.insertAdjacentHTML('beforeend', aiResponseHTML);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
      
      // 显示BOM替代品比较表格
      showBomComparisonTable();
      
    }, 2000);
  });
});



  























    
  
// 文件大小格式化辅助函数
function formatFileSize(bytes) {
  if (bytes < 1024) {
    return bytes + ' B';
  } else if (bytes < 1024 * 1024) {
    return (bytes / 1024).toFixed(1) + ' KB';
  } else {
    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
  }
}

// 添加行高亮和点击处理事件
document.addEventListener('DOMContentLoaded', function() {
  // 定期检查新添加的元素并添加事件处理
  setInterval(() => {
    const alternativeRows = document.querySelectorAll('.alternative-highlight');
    alternativeRows.forEach(row => {
      if (!row.dataset.eventAttached) {
        row.dataset.eventAttached = 'true';
        
        row.addEventListener('mouseover', function() {
          this.style.backgroundColor = '#f1f5f9';
          this.style.borderLeft = '4px solid #2563eb';
        });
        
        row.addEventListener('mouseout', function() {
          // 恢复原来的背景色（偶数行和奇数行不同）
          const index = Array.from(this.parentElement.children).indexOf(this);
          const isEvenRow = index % 2 === 1;
          this.style.backgroundColor = isEvenRow ? '#f9fafb' : '';
          this.style.borderLeft = '0';
        });
        
        row.addEventListener('click', function() {
          // 获取当前行的元器件信息
          const cells = this.querySelectorAll('div');
          const originalBrand = cells[0].textContent;
          const originalModel = cells[1].textContent;
          const alternative = cells[2].textContent;
          
          // 显示详细信息弹窗
          showComponentDetailPopup(originalBrand, originalModel, alternative);
        });
      }
    });
  }, 1000);
});


// 显示元器件详细信息弹窗
function showComponentDetailPopup(originalBrand, originalModel, alternative) {
  // 检查是否已存在弹窗，如果存在则先移除
  const existingPopup = document.getElementById('component-detail-popup');
  if (existingPopup) {
    existingPopup.remove();
  }
  
  // 创建弹窗HTML
  const popupHTML = `
    <div id="component-detail-popup" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;">
      <div style="background-color: white; border-radius: 8px; width: 80%; max-width: 800px; max-height: 90vh; overflow-y: auto; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid #e2e8f0;">
          <h3 style="margin: 0; font-size: 18px;">元器件替代详情</h3>
          <button onclick="document.getElementById('component-detail-popup').remove();" style="background: none; border: none; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div style="padding: 1rem;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div>
              <h4 style="margin-top: 0; color: #64748b;">原始元器件</h4>
              <div style="padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">品牌:</span>
                  <span>${originalBrand}</span>
                </div>
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">型号:</span>
                  <span style="font-weight: 500;">${originalModel}</span>
                </div>
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">库存状态:</span>
                  <span style="color: #ef4444;">缺货</span>
                </div>
                <div>
                  <span style="font-weight: 500; color: #64748b;">市场价格:</span>
                  <span>$4.86</span>
                </div>
              </div>
            </div>
            <div>
              <h4 style="margin-top: 0; color: #64748b;">替代元器件</h4>
              <div style="padding: 1rem; border: 1px solid #2563eb; border-radius: 8px; background-color: #f0f7ff;">
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">替代型号:</span>
                  <span style="font-weight: 500; color: #2563eb;">${alternative}</span>
                </div>
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">库存状态:</span>
                  <span style="color: #10b981;">现货</span>
                </div>
                <div style="margin-bottom: 0.5rem;">
                  <span style="font-weight: 500; color: #64748b;">市场价格:</span>
                  <span>$4.22</span>
                </div>
                <div>
                  <span style="font-weight: 500; color: #64748b;">制造商:</span>
                  <span>ST Microelectronics</span>
                </div>
              </div>
            </div>
          </div>
          
          <h4 style="color: #64748b;">参数对比</h4>
          <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
              <thead>
                <tr style="background-color: #f8fafc; text-align: left;">
                  <th style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">参数</th>
                  <th style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">原始元器件</th>
                  <th style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">替代元器件</th>
                  <th style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">差异</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">工作温度</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">-40°C ~ 125°C</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">-40°C ~ 125°C</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; color: #10b981;">相同</td>
                </tr>
                <tr style="background-color: #f8fafc;">
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">电压范围</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">1.2V ~ 37V</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">1.2V ~ 37V</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; color: #10b981;">相同</td>
                </tr>
                <tr>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">最大电流</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">1.5A</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">1.5A</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; color: #10b981;">相同</td>
                </tr>
                <tr style="background-color: #f8fafc;">
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">封装类型</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">TO-220</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">TO-220</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; color: #10b981;">相同</td>
                </tr>
                <tr>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">调节精度</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">±2%</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">±1%</td>
                  <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; color: #10b981;">更优</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- 完整数据表信息 -->
          <h4 style="color: #64748b; margin-top: 1.5rem;">完整数据表信息</h4>
          <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; font-size: 14px; margin-bottom: 1.5rem;">
            <div style="margin-bottom: 0.75rem;">
              <h5 style="margin: 0.5rem 0; color: #334155;">电气特性</h5>
              <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0; width: 40%;">输出电压范围</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">1.2V ~ 37V</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">调整率(线性)</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">0.01%/V (典型值)</td>
                </tr>
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">调整率(负载)</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">0.1%/A (典型值)</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">静态电流</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">5mA (最大值)</td>
                </tr>
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">温度稳定性</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">±0.01%/°C</td>
                </tr>
              </table>
            </div>
            
            <div style="margin-bottom: 0.75rem;">
              <h5 style="margin: 0.5rem 0; color: #334155;">热特性</h5>
              <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0; width: 40%;">热阻 JA</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">65°C/W</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">热阻 JC</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">5°C/W</td>
                </tr>
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">操作温度范围</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">-40°C ~ 125°C</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">最大结温</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">150°C</td>
                </tr>
              </table>
            </div>
            
            <div>
              <h5 style="margin: 0.5rem 0; color: #334155;">安规与认证</h5>
              <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0; width: 40%;">RoHS合规</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">是</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">无铅状态</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">无铅</td>
                </tr>
                <tr>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">MSL等级</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">MSL 1</td>
                </tr>
                <tr style="background-color: #fff;">
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">REACH合规</td>
                  <td style="padding: 0.5rem; border-bottom: 1px solid #e2e8f0;">是</td>
                </tr>
              </table>
            </div>
          </div>
          
          <div style="margin-top: 1.5rem; display: flex; justify-content: space-between;">
            <button onclick="document.getElementById('component-detail-popup').remove();" style="padding: 0.75rem 1.5rem; background-color: #fff; color: #2563eb; border: 1px solid #2563eb; border-radius: 0.375rem; cursor: pointer; font-weight: 500;">关闭</button>
            <button onclick="downloadComponentComparison('${originalBrand}', '${originalModel}', '${alternative}')" style="padding: 0.75rem 1.5rem; background-color: #2563eb; color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-weight: 500;">下载</button>
          </div>
        </div>
      </div>
    </div>
  `;
  
  document.body.insertAdjacentHTML('beforeend', popupHTML);
}

// 下载元件比较信息函数
function downloadComponentComparison(originalBrand, originalModel, alternative) {
  // 获取弹窗内容
  const popupContent = document.getElementById('component-detail-popup').querySelector('div > div');
  if (!popupContent) {
    alert('无法获取元件比较信息');
    return;
  }
  
  // 创建完整HTML文档
  const htmlContent = `
    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>元器件替代方案比较: ${originalModel} vs ${alternative}</title>
      <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; color: #334155; }
        h1 { color: #2563eb; font-size: 24px; margin-bottom: 20px; }
        h2 { color: #334155; font-size: 20px; margin-bottom: 15px; }
        h3 { color: #334155; font-size: 18px; margin-bottom: 10px; }
        h4 { color: #64748b; font-size: 16px; margin-top: 20px; margin-bottom: 10px; }
        h5 { color: #334155; font-size: 14px; margin: 10px 0; }
        .header { margin-bottom: 30px; text-align: center; }
        .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #64748b; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th { background-color: #f8fafc; padding: 10px; text-align: left; font-weight: bold; border: 1px solid #e2e8f0; }
        td { padding: 10px; border: 1px solid #e2e8f0; }
        tr:nth-child(even) { background-color: #f9fafb; }
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .original-component { padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; }
        .alternative-component { padding: 15px; border: 1px solid #2563eb; border-radius: 8px; background-color: #f0f7ff; }
        .parameter-section { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .same { color: #10b981; }
        .better { color: #10b981; font-weight: bold; }
        .worse { color: #ef4444; }
        .section { margin-bottom: 25px; }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>元器件替代方案比较报告</h1>
        <h2>${originalModel} vs ${alternative}</h2>
        <p>生成时间: ${new Date().toLocaleString()}</p>
      </div>
      
      <div class="section">
        <h3>元器件基本信息</h3>
        <div class="comparison-grid">
          <div class="original-component">
            <h4>原始元器件</h4>
            <table>
              <tr><td style="font-weight: 500; width: 30%;">品牌</td><td>${originalBrand}</td></tr>
              <tr><td style="font-weight: 500;">型号</td><td>${originalModel}</td></tr>
              <tr><td style="font-weight: 500;">库存状态</td><td style="color: #ef4444;">缺货</td></tr>
              <tr><td style="font-weight: 500;">市场价格</td><td>$4.86</td></tr>
            </table>
          </div>
          <div class="alternative-component">
            <h4>替代元器件</h4>
            <table>
              <tr><td style="font-weight: 500; width: 30%;">替代型号</td><td>${alternative}</td></tr>
              <tr><td style="font-weight: 500;">库存状态</td><td style="color: #10b981;">现货</td></tr>
              <tr><td style="font-weight: 500;">市场价格</td><td>$4.22</td></tr>
              <tr><td style="font-weight: 500;">制造商</td><td>ST Microelectronics</td></tr>
            </table>
          </div>
        </div>
      </div>
      
      <div class="section">
        <h3>参数对比</h3>
        <table>
          <thead>
            <tr>
              <th>参数</th>
              <th>原始元器件</th>
              <th>替代元器件</th>
              <th>差异</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>工作温度</td>
              <td>-40°C ~ 125°C</td>
              <td>-40°C ~ 125°C</td>
              <td class="same">相同</td>
            </tr>
            <tr>
              <td>电压范围</td>
              <td>1.2V ~ 37V</td>
              <td>1.2V ~ 37V</td>
              <td class="same">相同</td>
            </tr>
            <tr>
              <td>最大电流</td>
              <td>1.5A</td>
              <td>1.5A</td>
              <td class="same">相同</td>
            </tr>
            <tr>
              <td>封装类型</td>
              <td>TO-220</td>
              <td>TO-220</td>
              <td class="same">相同</td>
            </tr>
            <tr>
              <td>调节精度</td>
              <td>±2%</td>
              <td>±1%</td>
              <td class="better">更优</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="section">
        <h3>完整数据表信息</h3>
        
        <div class="parameter-section">
          <h4>电气特性</h4>
          <table>
            <tr>
              <td style="width: 40%;">输出电压范围</td>
              <td>1.2V ~ 37V</td>
            </tr>
            <tr>
              <td>调整率(线性)</td>
              <td>0.01%/V (典型值)</td>
            </tr>
            <tr>
              <td>调整率(负载)</td>
              <td>0.1%/A (典型值)</td>
            </tr>
            <tr>
              <td>静态电流</td>
              <td>5mA (最大值)</td>
            </tr>
            <tr>
              <td>温度稳定性</td>
              <td>±0.01%/°C</td>
            </tr>
          </table>
        </div>
        
        <div class="parameter-section">
          <h4>热特性</h4>
          <table>
            <tr>
              <td style="width: 40%;">热阻 JA</td>
              <td>65°C/W</td>
            </tr>
            <tr>
              <td>热阻 JC</td>
              <td>5°C/W</td>
            </tr>
            <tr>
              <td>操作温度范围</td>
              <td>-40°C ~ 125°C</td>
            </tr>
            <tr>
              <td>最大结温</td>
              <td>150°C</td>
            </tr>
          </table>
        </div>
        
        <div class="parameter-section">
          <h4>安规与认证</h4>
          <table>
            <tr>
              <td style="width: 40%;">RoHS合规</td>
              <td>是</td>
            </tr>
            <tr>
              <td>无铅状态</td>
              <td>无铅</td>
            </tr>
            <tr>
              <td>MSL等级</td>
              <td>MSL 1</td>
            </tr>
            <tr>
              <td>REACH合规</td>
              <td>是</td>
            </tr>
          </table>
        </div>
      </div>
      
      <div class="footer">
        <p>此报告仅供参考，最终替换决策应参考完整数据表及在实际应用中的测试结果。</p>
        <p>© ${new Date().getFullYear()} 电子元器件替代方案分析系统</p>
      </div>
    </body>
    </html>
  `;
  
  // 创建Blob对象
  const blob = new Blob([htmlContent], { type: 'text/html' });
  
  // 创建下载链接
  const downloadLink = document.createElement('a');
  downloadLink.href = URL.createObjectURL(blob);
  downloadLink.download = `${originalModel}_vs_${alternative}_比较报告.html`;
  
  // 触发下载
  document.body.appendChild(downloadLink);
  downloadLink.click();
  
  // 清理
  document.body.removeChild(downloadLink);
  URL.revokeObjectURL(downloadLink.href);
}





















































// 绑定回形针按钮点击事件
const clipButton = document.getElementById('fileUploadButton');
if (clipButton) {
  clipButton.addEventListener('click', function(event) {
    // 手动触发文件选择
    document.getElementById('fileUpload').click();
  });
}
























































<!----功能演示选项卡----->

document.addEventListener('DOMContentLoaded', function() {
  
// 获取所有选项卡按钮和内容面板
  const tabButtons = document.querySelectorAll('.feature-tab');
  const contentPanels = document.querySelectorAll('.feature-content-panel');
  
  // 为每个选项卡按钮添加点击事件
  tabButtons.forEach(button => {
    button.addEventListener('click', function() {

      // 获取要显示的面板ID
      const targetTab = this.getAttribute('data-tab');
      

      // 移除所有按钮的active类
      tabButtons.forEach(btn => {
        btn.classList.remove('active');
        btn.style.backgroundColor = 'white';
        btn.style.color = '#2563eb';
btn.style.border = '1px solid #e2e8f0';
      });
      

      // 隐藏所有内容面板
      contentPanels.forEach(panel => {
        panel.classList.remove('active');
        panel.style.display = 'none';
      });
      

      // 激活当前点击的按钮
      this.classList.add('active');
      this.style.backgroundColor = '#2563eb';
      this.style.color = 'white';
this.style.border = 'none';

      
      // 显示对应的内容面板
      const activePanel = document.getElementById(`${targetTab}-content`);
      if (activePanel) {
        activePanel.classList.add('active');
        activePanel.style.display = 'block';
      }
    });
  });

  



  // 正确初始化显示状态
  // 确保只有第一个选项卡激活并显示对应内容，其他所有选项卡内容都隐藏
  tabButtons.forEach((button, index) => {
    if (index === 0) {
      button.classList.add('active');
      button.style.backgroundColor = '#2563eb';
      button.style.color = 'white';
    } else {
      button.classList.remove('active');
      button.style.backgroundColor = 'white';
      button.style.color = '#2563eb';
    }
  });
  
  contentPanels.forEach((panel, index) => {
    if (index === 0) {
      panel.classList.add('active');
      panel.style.display = 'block';
    } else {
      panel.classList.remove('active');
      panel.style.display = 'none';
    }
  });
});
 
























































<!----单件查询-”下载“功能----->

function downloadSearchResults() {
  // 尝试多种选择器策略找到结果容器
  let resultsContainer = document.querySelector('#core-features > div:nth-child(2) > div:nth-child(2)');
  
  if (!resultsContainer) {
    // 尝试基于样式特征的选择器
    resultsContainer = document.querySelector('div[style*="flex: 2.5"]');
  }
  
  if (!resultsContainer) {
    // 再尝试类名选择器
    resultsContainer = document.querySelector('.right-side');
  }
  
  if (!resultsContainer) {
    // 最后尝试查找表格结构特征
    resultsContainer = document.querySelector('div[style*="display: flex; flex-direction: column; height: 100%"]');
  }
  
  if (!resultsContainer) {
    alert('无法找到搜索结果区域，请联系技术支持');
    console.error('无法找到搜索结果容器，所有选择器均失败');
    return;
  }
  
  // 获取结果数量信息
  const resultCountElement = resultsContainer.querySelector('div:first-child');
  const resultCount = resultCountElement ? resultCountElement.textContent.trim() : '搜索结果';
  
  // 获取表头和表体
  const tableHeader = resultsContainer.querySelector('div[style*="grid-template-columns"]');
  const tableBody = resultsContainer.querySelector('div[style*="overflow-y: auto"]');
  
  if (!tableHeader || !tableBody) {
    alert('无法识别表格结构，请联系技术支持');
    console.error('表格结构未找到 - 表头或表体缺失');
    return;
  }
  
  // 创建HTML表格
  let tableHTML = '<table border="1" cellpadding="8" cellspacing="0" style="width:100%;border-collapse:collapse;">';
  
  // 添加表头
  tableHTML += '<thead><tr style="background-color:#f8fafc;">';
  const headerCells = Array.from(tableHeader.children);
  // 跳过第一个复选框列
  for (let i = 1; i < headerCells.length; i++) {
    const align = headerCells[i].style.textAlign || 'left';
    tableHTML += `<th style="text-align:${align};font-weight:bold;">${headerCells[i].textContent.trim()}</th>`;
  }
  tableHTML += '</tr></thead><tbody>';
  
  // 添加表体行
  const rows = Array.from(tableBody.querySelectorAll('div[style*="display: grid"]'));
  rows.forEach((row, rowIndex) => {
    const isEvenRow = rowIndex % 2 === 1;
    tableHTML += `<tr style="background-color:${isEvenRow ? '#f9fafb' : 'white'}">`;
    
    const cells = Array.from(row.children);
    // 跳过第一个复选框列
    for (let j = 1; j < cells.length; j++) {
      const cell = cells[j];
      const align = cell.style.textAlign || 'left';
      
      // 处理嵌套内容
      if (cell.children.length > 0 && !cell.querySelector('input')) {
        // 有嵌套div结构的单元格
        let cellContent = '';
        Array.from(cell.querySelectorAll('div')).forEach(div => {
          if (div.textContent.trim()) {
            cellContent += div.textContent.trim() + '<br>';
          }
        });
        // 移除最后一个<br>
        if (cellContent.endsWith('<br>')) {
          cellContent = cellContent.slice(0, -4);
        }
        tableHTML += `<td style="text-align:${align}">${cellContent || cell.textContent.trim()}</td>`;
      } else {
        // 普通文本单元格
        tableHTML += `<td style="text-align:${align}">${cell.textContent.trim()}</td>`;
      }
    }
    
    tableHTML += '</tr>';
  });
  
  tableHTML += '</tbody></table>';
  
  // 创建完整HTML文档
  const htmlContent = `
    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>秒寻搜索结果</title>
      <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; color: #334155; }
        h1 { color: #2563eb; font-size: 24px; margin-bottom: 20px; }
        .header { margin-bottom: 30px; text-align: center; }
        .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #64748b; }
        table { width: 100%; border-collapse: collapse; }
        th { background-color: #f8fafc; padding: 10px; text-align: left; font-weight: bold; }
        td { padding: 10px; border-bottom: 1px solid #e2e8f0; }
        tr:nth-child(even) { background-color: #f9fafb; }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>秒寻 - 搜索结果</h1>
        <p>${resultCount}</p>
        <p>生成时间: ${new Date().toLocaleString()}</p>
      </div>
      
      ${tableHTML}
      
      <div class="footer">
        <p>由秒寻 - AI驱动的工业元器件选型助手生成</p>
        <p>导出日期: ${new Date().toLocaleDateString()}</p>
      </div>
    </body>
    </html>
  `;
  
  // 创建下载
  const blob = new Blob([htmlContent], { type: 'text/html' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `秒寻搜索结果_${new Date().toISOString().split('T')[0]}.html`;
  
  // 触发下载
  document.body.appendChild(a);
  a.click();
  
  // 清理
  document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
  
  console.log('搜索结果下载完成');
}

































// 添加客户详情内容切换功能






































// 增加"问题跟进"按钮功能
// 增加“问题跟进”按钮功能 (添加此部分 JS)

// 修改后的切换函数
function showFollowUpPage() {
  // 给整个销售内容区域添加一个模式标识类
  const batchQueryContent = document.getElementById('batch-query-content');
  if (batchQueryContent) {
    batchQueryContent.classList.add('follow-up-mode');
  }
  
  // 隐藏工作台主内容
  const salesWorkstationMain = document.getElementById('sales-workstation-main');
  if (salesWorkstationMain) {
    salesWorkstationMain.style.display = 'none';
  }
  
  // 隐藏工作台头部信息
  const workstationHeader = document.querySelector('#batch-query-content > div > div:first-child');
  if (workstationHeader) {
    workstationHeader.style.display = 'none';
  }
  
  // 显示问题跟进页面
  const followUpContent = document.getElementById('follow-up-content');
  if (followUpContent) {
    followUpContent.style.display = 'block';
  }
}

function showSalesWorkstation() {
  // 移除模式标识类
  const batchQueryContent = document.getElementById('batch-query-content');
  if (batchQueryContent) {
    batchQueryContent.classList.remove('follow-up-mode');
  }
  
  // 显示工作台主内容
  const salesWorkstationMain = document.getElementById('sales-workstation-main');
  if (salesWorkstationMain) {
    salesWorkstationMain.style.display = 'flex';
  }
  
  // 显示工作台头部信息
  const workstationHeader = document.querySelector('#batch-query-content > div > div:first-child');
  if (workstationHeader) {
    workstationHeader.style.display = 'flex';
  }
  
  // 隐藏问题跟进页面
  const followUpContent = document.getElementById('follow-up-content');
  if (followUpContent) {
    followUpContent.style.display = 'none';
  }
}

// 确保页面加载完成后设置正确的初始状态
document.addEventListener('DOMContentLoaded', function() {
  // 移除多余的问题跟进面板，只保留一个
  const followUpPanels = document.querySelectorAll('.feature-content-panel#follow-up-content');
  if (followUpPanels.length > 1) {
    // 移除多余的面板，保留第一个
    for (let i = 1; i < followUpPanels.length; i++) {
      followUpPanels[i].parentNode.removeChild(followUpPanels[i]);
    }
  }
  
  // 将问题跟进面板移动到正确的位置
  const followUpContent = document.getElementById('follow-up-content');
  const batchQueryContent = document.getElementById('batch-query-content');
  if (followUpContent && batchQueryContent) {
    batchQueryContent.appendChild(followUpContent);
  }
  
  // 初始状态下隐藏问题跟进页面
  if (followUpContent) {
    followUpContent.style.display = 'none';
  }
});





































<!-- 客户档案页面 -->

<!-- 交互功能脚本 -->

  function closeCustomerProfileModal() {
    document.getElementById('customerProfileModal').style.display = 'none';
  }
  
  function switchProfileTab(tabId) {
    // 隐藏所有面板
    const panels = document.getElementsByClassName('profile-panel');
    for (let i = 0; i < panels.length; i++) {
      panels[i].style.display = 'none';
    }
    
    // 显示选中的面板
    document.getElementById(tabId + '-panel').style.display = 'block';
    
    // 更新标签样式
    const tabs = document.getElementsByClassName('profile-tab');
    for (let i = 0; i < tabs.length; i++) {
      tabs[i].style.color = '#64748b';
      tabs[i].style.borderBottom = 'none';
    }
    
    // 设置选中标签样式
    const activeTab = document.querySelector(`.profile-tab[data-tab="${tabId}"]`);
    activeTab.style.color = '#2563eb';
    activeTab.style.borderBottom = '2px solid #2563eb';
  }
  
  // 显示客户档案模态框的函数
  function showCustomerProfile() {
    document.getElementById('customerProfileModal').style.display = 'block';
  }
  
  // 展开/收起详情的函数
  function toggleDetails(elementId) {
    const element = document.getElementById(elementId);
    if (element.style.display === 'none' || !element.style.display) {
      element.style.display = 'block';
    } else {
      element.style.display = 'none';
    }
  }
  
  // 添加联系人的函数
  function showAddContactForm() {
    // 实现添加联系人表单的显示逻辑
    alert('打开添加联系人表单');
  }
  
  // 编辑档案的函数
  function editCustomerProfile() {
    // 实现编辑档案的逻辑
    alert('进入档案编辑模式');
  }
  
  // 图表初始化函数（如果使用图表库）
  function initCharts() {
    // 这里可以添加图表初始化代码，例如使用ECharts、Chart.js等
    console.log('初始化图表');
  }
  
  // 页面加载完成后初始化
  window.onload = function() {
    // 默认显示第一个标签页
    switchProfileTab('basic-info');
    
    // 初始化图表（如果有）
    initCharts();
    
    // 添加其他需要在页面加载时执行的初始化代码
  };










// 添加客户档案按钮点击事件处理
document.addEventListener('DOMContentLoaded', function() {
  // 查找客户档案按钮
  const profileButton = document.querySelector('.sales-workstation .btn, button:contains("客户档案")');
  
  // 如果找不到按钮，尝试更精确的选择器
  const allButtons = document.querySelectorAll('button');
  let customerProfileButton = null;
  
  // 遍历所有按钮查找包含"客户档案"文本的按钮
  allButtons.forEach(button => {
    if (button.textContent.includes('客户档案')) {
      customerProfileButton = button;
    }
  });
  
  // 如果找到按钮，添加点击事件监听器
  if (customerProfileButton) {
    customerProfileButton.addEventListener('click', showCustomerProfile);
  } else {
    console.error('未找到客户档案按钮');
  }
});

// 确保showCustomerProfile函数已定义
function showCustomerProfile() {
  const profileModal = document.getElementById('customerProfileModal');
  if (profileModal) {
    profileModal.style.display = 'block';
  } else {
    console.error('未找到客户档案模态框元素');
  }
}





























// 全选/全不选功能
document.addEventListener('DOMContentLoaded', function() {
  // 选中表头全选checkbox
  var selectAll = document.querySelector('.select-all-checkbox');
  // 所有数据行的checkbox
  function getRowCheckboxes() {
    return document.querySelectorAll('.row-checkbox');
  }

  if(selectAll){
    // 全选/反选
    selectAll.addEventListener('change', function() {
      var rowCheckboxes = getRowCheckboxes();
      rowCheckboxes.forEach(function(cb) {
        cb.checked = selectAll.checked;
        // 如果有额外的点击高亮处理，可以这里调用change事件
        cb.dispatchEvent(new Event('change'));
      });
    });

    // 监听每个行checkbox，部分选中时，表头变成非全部选中状态
    document.addEventListener('change', function(e){
      if(e.target.classList.contains('row-checkbox')){
        var all = getRowCheckboxes();
        var checkedCount = Array.from(all).filter(cb => cb.checked).length;
        if (checkedCount === all.length) {
          selectAll.checked = true;
          selectAll.indeterminate = false;
        } else if (checkedCount === 0) {
          selectAll.checked = false;
          selectAll.indeterminate = false;
        } else {
          selectAll.checked = false;
          selectAll.indeterminate = true;
        }
      }
    });
  }
});



















</script>

</body>

</html>